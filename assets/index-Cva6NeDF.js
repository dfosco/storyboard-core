const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CommentOverlay-DZytvgai.js","assets/vendor-primer-DemBoo1e.js","assets/vendor-react-BuwH6fqj.js","assets/vendor-octicons-BpazhUNY.js","assets/vendor-primer-BEAryH55.css","assets/vendor-reshaped-DaHIQrVt.js","assets/vendor-reshaped-CHiksvd1.css"])))=>i.map(i=>d[i]);
import{j as r,T as Yt,S as bo,C as Fa,a as Ua,b as L,B as ae,c as qa,F as z,d as K,L as Es,u as Wa,A as Ke,e as Ie,I as Va,U as ks,N as Dn,f as Ka,g as Ga,h as Zt,i as Ja,k as Ya,l as Za}from"./vendor-primer-DemBoo1e.js";import{b as w,u as xo,f as vo,O as yo,h as yr,g as Xa,L as Qe,i as Qa,j as ec}from"./vendor-react-BuwH6fqj.js";import{C as ve,V as m,T as v,D as le,R as wt,B as jt,a as tc,b as Yn,P as nc,S as Is,F as C,c as We,d as de,e as Ue,A as As,M as Ge}from"./vendor-reshaped-DaHIQrVt.js";import{M as _o,b as rc,o as sc,p as _r,q as Ts,r as Bt,s as oc,t as At,l as st,k as Tt,u as wr,v as mn,w as Rt,x as ot,y as et,z as jr,B as wo,H as Sr,D as gn,F as ic,E as ac,m as cc,L as lc,J as dc,R as bn,K as jo,N as So,O as uc,Q as pc,U as fc,V as hc,W as Co,Y as Eo,Z as mc,_ as gc,c as Rs,$ as bc,a0 as xc}from"./vendor-octicons-BpazhUNY.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function en(e,t){const n={...e};for(const o of Object.keys(t)){const s=t[o],i=e[o];s!==null&&typeof s=="object"&&!Array.isArray(s)&&i!==null&&typeof i=="object"&&!Array.isArray(i)?n[o]=en(i,s):n[o]=s}return n}let ne={scenes:{},objects:{},records:{}};function vc(e){if(!e||typeof e!="object")throw new Error("[storyboard-core] init() requires { scenes, objects, records }");ne={scenes:e.scenes||{},objects:e.objects||{},records:e.records||{}}}function Zn(e,t){if(t&&ne[t]?.[e]!=null)return ne[t][e];if(!t){for(const n of["scenes","objects","records"])if(ne[n]?.[e]!=null)return ne[n][e]}if(t==="scenes"||!t){const n=e.toLowerCase();for(const o of Object.keys(ne.scenes))if(o.toLowerCase()===n)return ne.scenes[o]}throw new Error(`Data file not found: ${e}${t?` (type: ${t})`:""}`)}function xt(e,t=new Set){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(o=>xt(o,t));if(e.$ref&&typeof e.$ref=="string"){const o=e.$ref;if(t.has(o))throw new Error(`Circular $ref detected: ${o}`);t.add(o);const s=Zn(o,"objects");return xt(s,t)}const n={};for(const[o,s]of Object.entries(e))n[o]=xt(s,t);return n}function yc(e){if(ne.scenes[e]!=null)return!0;const t=e.toLowerCase();for(const n of Object.keys(ne.scenes))if(n.toLowerCase()===t)return!0;return!1}function xn(e="default"){let t;try{t=structuredClone(Zn(e,"scenes"))}catch{throw new Error(`Failed to load scene: ${e}`)}if(Array.isArray(t.$global)){const n=t.$global;delete t.$global;let o={};for(const s of n)try{let i=Zn(s);i=xt(i),o=en(o,i)}catch(i){console.warn(`Failed to load $global: ${s}`,i)}t=en(o,t)}return t=xt(t),structuredClone(t)}function Cr(e){const t=ne.records[e];if(t==null)throw new Error(`Record not found: ${e}`);if(!Array.isArray(t))throw new Error(`Record "${e}" must be an array, got ${typeof t}`);return structuredClone(t)}function _c(e,t){return Cr(e).find(o=>o.id===t)??null}function ko(e,t){if(e==null||typeof t!="string"||t==="")return;const n=t.split(".");let o=e;for(const s of n){if(o==null||typeof o!="object")return;o=o[s]}return o}function St(e){if(Array.isArray(e))return e.map(St);if(e!==null&&typeof e=="object"){const t={};for(const n of Object.keys(e))t[n]=St(e[n]);return t}return e}function tn(e,t,n){const o=t.split(".");let s=e;for(let i=0;i<o.length-1;i++){const a=o[i];(s[a]==null||typeof s[a]!="object")&&(s[a]=/^\d+$/.test(o[i+1])?[]:{}),s=s[a]}s[o[o.length-1]]=n}function vn(){const e=window.location.hash.replace(/^#/,"");return new URLSearchParams(e)}function Io(e){const t=e.toString();window.location.hash=t}function Ao(e){return vn().get(e)}function Re(e,t){const n=vn();n.set(e,String(t)),Io(n)}function Er(){const e=vn(),t={};for(const[n,o]of e.entries())t[n]=o;return t}function nn(e){const t=vn();t.delete(e),Io(t)}const yn="storyboard:";function _n(e){try{return localStorage.getItem(yn+e)}catch{return null}}function Y(e,t){try{localStorage.setItem(yn+e,String(t)),kr()}catch{}}function rn(e){try{localStorage.removeItem(yn+e),kr()}catch{}}function Nt(e){const t=()=>{To(),e()};return window.addEventListener("storage",t),window.addEventListener("storyboard-storage",t),()=>{window.removeEventListener("storage",t),window.removeEventListener("storyboard-storage",t)}}let gt=null;function To(){gt=null}function wn(){if(gt!==null)return gt;try{const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n&&n.startsWith(yn)&&e.push(n+"="+localStorage.getItem(n))}return gt=e.sort().join("&"),gt}catch{return""}}function kr(){To(),window.dispatchEvent(new Event("storyboard-storage"))}const Ir="__hide__",sn="historyState",Je="currentState",Ve="nextState",Ns=200;function Z(){return _n(Ir)==="1"}function Ro(){Lt(),Y(Ir,"1");const e=new URL(window.location.href);e.searchParams.delete("hide"),e.hash="",window.history.replaceState(window.history.state,"",e.toString())}function No(){const e=Ot();if(e){window.location.hash="";const t=new URLSearchParams(e);for(const[n,o]of t.entries())Re(n,o)}rn(Ir),Sc("show")}function jn(){return window.location.pathname}function Lo(){return new URLSearchParams(window.location.hash.replace(/^#/,"")).toString()}function Lt(e,t){const n=e!==void 0?e:Lo(),o=t!==void 0?t:jn(),s=Sn(),i=Cn();if(i!==null&&s[i]){const[,d,p]=s[i];if(d===o&&p===n)return}const a=i!==null?s.slice(0,i+1):s,c=a.length,l=[c,o,n],u=[...a,l];if(u.length>Ns){const d=u.slice(u.length-Ns);for(let p=0;p<d.length;p++)d[p]=[p,d[p][1],d[p][2]];Y(sn,JSON.stringify(d)),Y(Je,String(d.length-1))}else Y(sn,JSON.stringify(u)),Y(Je,String(c));rn(Ve)}function Sn(){const e=_n(sn);if(!e)return[];try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch{return[]}}function Cn(){const e=_n(Je);if(e===null)return null;const t=parseInt(e,10);return Number.isNaN(t)?null:t}function wc(){const e=_n(Ve);if(e===null)return null;const t=parseInt(e,10);return Number.isNaN(t)?null:t}function Ot(){const e=Cn();if(e===null)return null;const t=Sn();return t[e]?t[e][2]:null}function Oo(){const e=Cn();if(e===null)return null;const t=Sn();return t[e]?t[e][1]:null}function $o(e){const t=Ot();return t?new URLSearchParams(t).get(e):null}function Xn(e,t){const n=Ot()||"",o=new URLSearchParams(n);o.set(e,String(t)),Lt(o.toString(),Oo()||jn())}function Ls(e){const t=Ot()||"",n=new URLSearchParams(t);n.delete(e),Lt(n.toString(),Oo()||jn())}function Ar(){const e=Ot();if(!e)return{};const t=new URLSearchParams(e),n={};for(const[o,s]of t.entries())n[o]=s;return n}function Os(){if(Z())return;const e=jn(),t=Lo(),n=Sn(),o=Cn();if(!t&&!e&&n.length===0)return;const s=n.findIndex(([,c,l])=>c===e&&l===t);if(s===-1){Lt(t,e);return}if(s===o)return;const i=o!==null?o-1:null,a=wc();if(i!==null&&s===i)Y(Ve,String(o)),Y(Je,String(s));else if(a!==null&&s===a){const c=a+1;n[c]?Y(Ve,String(c)):rn(Ve),Y(Je,String(s))}else{rn(Ve),Y(Je,String(s));const c=n.slice(0,s+1);Y(sn,JSON.stringify(c))}kr()}function jc(){Z()||Lt(),window.addEventListener("hashchange",()=>Os()),window.addEventListener("popstate",()=>Os())}function Sc(e){const t=new URL(window.location.href);t.searchParams.has(e)&&(t.searchParams.delete(e),window.history.replaceState(window.history.state,"",t.toString()))}function on(){const e=new URL(window.location.href);if(e.searchParams.has("hide")){Ro();return}if(e.searchParams.has("show")){No();return}}function Cc(){on(),window.addEventListener("popstate",()=>on())}function $t(e){return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)}function Tr(){return window.location.hash}const Po="sb-",Qn="sb-scene--";function er(e){return String(e).toLowerCase().replace(/[.\s]+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"")}function Ec(e,t){return`${Po}${er(e)}--${er(t)}`}function kc(){const e=new Set;for(const t of document.body.classList)t.startsWith(Po)&&!t.startsWith(Qn)&&e.add(t);return e}function Bn(){const e=Z()?Ar():Er(),t=new Set;for(const[o,s]of Object.entries(e))o&&s!=null&&s!==""&&t.add(Ec(o,s));const n=kc();for(const o of n)t.has(o)||document.body.classList.remove(o);for(const o of t)n.has(o)||document.body.classList.add(o)}function Ic(e){for(const t of[...document.body.classList])t.startsWith(Qn)&&document.body.classList.remove(t);e&&document.body.classList.add(`${Qn}${er(e)}`)}function Mo(){Bn();const e=$t(Bn),t=Nt(Bn);return()=>{e(),t()}}const Ac="modulepreload",Tc=function(e){return"/storyboard-source/"+e},$s={},M=function(t,n,o){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");s=l(n.map(u=>{if(u=Tc(u),u in $s)return;$s[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Ac,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((b,x)=>{f.addEventListener("load",b),f.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(a){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=a,window.dispatchEvent(c),!c.defaultPrevented)throw a}return s.then(a=>{for(const c of a||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};let Ye=null;function Rc(e,t={}){if(!e||!e.comments){Ye=null;return}const n=e.comments,o=e.repository;Ye={repo:{owner:o?.owner??"",name:o?.name??""},discussions:{category:n.discussions?.category??"Storyboard Comments"},basePath:t.basePath??"/"}}function En(){return Ye}function an(){return Ye!==null&&Ye.repo.owner!==""&&Ye.repo.name!==""}const Nc=`
.sb-devtools-wrapper {
  position: fixed;
  bottom: 24px;
  right: 24px;
  z-index: 9999;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
}

.sb-devtools-trigger {
  display: flex;
  align-items: center;
  padding: 12px;
  background-color: #161b22;
  color: #8b949e;
  border: 1px solid #30363d;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  transition: opacity 150ms ease, transform 150ms ease;
  user-select: none;
}
.sb-devtools-trigger:hover { transform: scale(1.05); }
.sb-devtools-trigger:active { transform: scale(0.97); }
.sb-devtools-trigger svg { width: 16px; height: 16px; fill: currentColor; }

.sb-devtools-menu {
  position: absolute;
  bottom: 56px;
  right: 0;
  min-width: 200px;
  background-color: #161b22;
  border: 1px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  overflow: hidden;
  display: none;
}
.sb-devtools-menu.open { display: block; }

.sb-devtools-menu-item {
  display: flex;
  align-items: center;
  gap: 8px;
  width: 100%;
  padding: 8px 16px;
  background: none;
  border: none;
  color: #c9d1d9;
  font-size: 14px;
  font-family: inherit;
  cursor: pointer;
  text-align: left;
}
.sb-devtools-menu-item:hover { background-color: #21262d; }
.sb-devtools-menu-item svg { width: 16px; height: 16px; fill: currentColor; flex-shrink: 0; }

.sb-devtools-hint {
  padding: 6px 16px 8px;
  font-size: 12px;
  color: #484f58;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
}

.sb-devtools-overlay {
  position: fixed;
  inset: 0;
  z-index: 9998;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 16px;
  padding-bottom: 80px;
}
.sb-devtools-backdrop {
  position: fixed;
  inset: 0;
  background: transparent;
}
.sb-devtools-panel {
  position: relative;
  width: 100%;
  max-width: 640px;
  max-height: 60vh;
  background-color: #0d1117;
  border: 1px solid #30363d;
  border-radius: 12px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.4);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}
.sb-devtools-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid #21262d;
}
.sb-devtools-panel-title {
  font-size: 14px;
  font-weight: 600;
  color: #c9d1d9;
}
.sb-devtools-panel-close {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 28px;
  height: 28px;
  background: none;
  border: none;
  border-radius: 6px;
  color: #8b949e;
  cursor: pointer;
}
.sb-devtools-panel-close:hover { background-color: #21262d; color: #c9d1d9; }
.sb-devtools-panel-close svg { width: 16px; height: 16px; fill: currentColor; }
.sb-devtools-panel-body {
  overflow: auto;
  padding: 16px;
}
.sb-devtools-code {
  padding: 0;
  margin: 0;
  background: none;
  font-size: 13px;
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, monospace;
  line-height: 1.5;
  color: #c9d1d9;
  white-space: pre-wrap;
  word-break: break-word;
}
.sb-devtools-error { color: #f85149; }
`,Lc='<svg viewBox="0 0 16 16"><path d="M5 5.782V2.5h-.25a.75.75 0 010-1.5h6.5a.75.75 0 010 1.5H11v3.282l3.666 5.86C15.619 13.04 14.552 15 12.46 15H3.54c-2.092 0-3.159-1.96-2.206-3.358zM6.5 2.5v3.782a.75.75 0 01-.107.384L3.2 12.5h9.6l-3.193-5.834A.75.75 0 019.5 6.282V2.5z"/></svg>',Oc='<svg viewBox="0 0 16 16"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"/></svg>',$c='<svg viewBox="0 0 16 16"><path d="M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z"/></svg>',Pc='<svg viewBox="0 0 16 16"><path d="M8.5 1.75a.75.75 0 0 0-1.5 0V3H1.75a.75.75 0 0 0 0 1.5H3v6H1.75a.75.75 0 0 0 0 1.5H7v1.25a.75.75 0 0 0 1.5 0V12h5.25a.75.75 0 0 0 0-1.5H12v-6h1.75a.75.75 0 0 0 0-1.5H8.5Zm2 8.75h-5a.25.25 0 0 1-.25-.25v-4.5A.25.25 0 0 1 5.5 5.5h5a.25.25 0 0 1 .25.25v4.5a.25.25 0 0 1-.25.25Z"/></svg>',Mc='<svg viewBox="0 0 16 16"><path d="M3.72 3.72a.75.75 0 0 1 1.06 0L8 6.94l3.22-3.22a.749.749 0 0 1 1.275.326.749.749 0 0 1-.215.734L9.06 8l3.22 3.22a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L8 9.06l-3.22 3.22a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042L6.94 8 3.72 4.78a.75.75 0 0 1 0-1.06Z"/></svg>',Dc='<svg viewBox="0 0 16 16"><path d="M8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.45.678-1.367 1.932-2.637 3.023C11.67 13.008 9.981 14 8 14s-3.671-.992-4.933-2.078C1.797 10.831.88 9.577.43 8.899a1.62 1.62 0 0 1 0-1.798c.45-.678 1.367-1.932 2.637-3.023C4.33 2.992 6.019 2 8 2ZM1.679 7.932a.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5s2.823-.742 3.955-1.715c1.124-.967 1.954-2.096 2.366-2.717a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5s-2.824.742-3.955 1.715c-1.124.967-1.954 2.096-2.366 2.717ZM8 10a2 2 0 1 1-.001-3.999A2 2 0 0 1 8 10Z"/></svg>',Bc='<svg viewBox="0 0 16 16"><path d="M.143 2.31a.75.75 0 0 1 1.047-.167l14.5 10.5a.75.75 0 1 1-.88 1.214l-2.248-1.628C11.346 13.19 9.792 14 8 14c-1.981 0-3.671-.992-4.933-2.078C1.797 10.831.88 9.577.43 8.899a1.62 1.62 0 0 1 0-1.798c.35-.527 1.06-1.476 2.019-2.398L.31 3.357A.75.75 0 0 1 .143 2.31Zm3.386 3.378a14.21 14.21 0 0 0-1.85 2.244.12.12 0 0 0 0 .136c.411.622 1.241 1.75 2.366 2.717C5.176 11.758 6.527 12.5 8 12.5c1.195 0 2.31-.488 3.29-1.191L9.063 9.695A2 2 0 0 1 6.058 7.39L3.529 5.688ZM8 3.5c-.516 0-1.017.09-1.499.251a.75.75 0 1 1-.473-1.423A6.23 6.23 0 0 1 8 2c1.981 0 3.671.992 4.933 2.078 1.27 1.091 2.187 2.345 2.637 3.023a1.62 1.62 0 0 1 0 1.798c-.11.166-.248.365-.41.587a.75.75 0 1 1-1.21-.887c.14-.191.26-.367.36-.524a.12.12 0 0 0 0-.136c-.412-.621-1.242-1.75-2.366-2.717C10.824 4.242 9.473 3.5 8 3.5Z"/></svg>';function zc(){return new URLSearchParams(window.location.search).get("scene")||"default"}function Hc(e={}){const t=e.container||document.body,n=e.basePath||"/";if(t.querySelector(".sb-devtools-wrapper"))return;const o=document.createElement("style");o.textContent=Nc,document.head.appendChild(o);let s=!0,i=!1;const a=document.createElement("div");a.className="sb-devtools-wrapper";const c=document.createElement("button");c.className="sb-devtools-trigger",c.setAttribute("aria-label","Storyboard DevTools"),c.innerHTML=Lc;const l=document.createElement("div");l.className="sb-devtools-menu";const u=document.createElement("button");u.className="sb-devtools-menu-item",u.innerHTML=`${Pc} Viewfinder`;const d=document.createElement("button");d.className="sb-devtools-menu-item",d.innerHTML=`${Oc} Show scene info`;const p=document.createElement("button");p.className="sb-devtools-menu-item",p.innerHTML=`${$c} Reset all params`;const f=document.createElement("button");f.className="sb-devtools-menu-item";function b(){const S=Z();f.innerHTML=`${S?Dc:Bc} ${S?"Show mode":"Hide mode"}`}b();const x=document.createElement("div");x.className="sb-devtools-hint",x.innerHTML="Press <code>⌘ + .</code> to hide",l.appendChild(u),l.appendChild(d),l.appendChild(p),l.appendChild(f);function g(){l.querySelectorAll("[data-sb-comment-menu-item]").forEach(S=>S.remove()),an()&&M(async()=>{const{getCommentsMenuItems:S}=await import("./CommentOverlay-DZytvgai.js");return{getCommentsMenuItems:S}},__vite__mapDeps([0,1,2,3,4,5,6])).then(({getCommentsMenuItems:S})=>{const I=S(),$=x;for(const H of I){const q=document.createElement("button");q.className="sb-devtools-menu-item",q.setAttribute("data-sb-comment-menu-item",""),q.innerHTML=`<span style="width:16px;height:16px;display:flex;align-items:center;justify-content:center;">${H.icon}</span> ${H.label}`,q.addEventListener("click",()=>{i=!1,l.classList.remove("open"),H.onClick()}),l.insertBefore(q,$)}})}c.addEventListener("click",()=>{g(),b()}),l.appendChild(x),a.appendChild(l),a.appendChild(c),t.appendChild(a);let h=null;function y(){i=!1,l.classList.remove("open"),h&&h.remove();const S=zc();let I="",$=null;try{I=JSON.stringify(xn(S),null,2)}catch(Se){$=Se.message}h=document.createElement("div"),h.className="sb-devtools-overlay";const H=document.createElement("div");H.className="sb-devtools-backdrop",H.addEventListener("click",j);const q=document.createElement("div");q.className="sb-devtools-panel";const fe=document.createElement("div");fe.className="sb-devtools-panel-header",fe.innerHTML=`<span class="sb-devtools-panel-title">Scene: ${S}</span>`;const re=document.createElement("button");re.className="sb-devtools-panel-close",re.setAttribute("aria-label","Close panel"),re.innerHTML=Mc,re.addEventListener("click",j),fe.appendChild(re);const he=document.createElement("div");if(he.className="sb-devtools-panel-body",$)he.innerHTML=`<span class="sb-devtools-error">${$}</span>`;else{const Se=document.createElement("pre");Se.className="sb-devtools-code",Se.textContent=I,he.appendChild(Se)}q.appendChild(fe),q.appendChild(he),h.appendChild(H),h.appendChild(q),t.appendChild(h)}function j(){h&&(h.remove(),h=null)}c.addEventListener("click",()=>{i=!i,l.classList.toggle("open",i)}),d.addEventListener("click",y),u.addEventListener("click",()=>{i=!1,l.classList.remove("open"),window.location.href=n+"viewfinder"}),p.addEventListener("click",()=>{window.location.hash="",i=!1,l.classList.remove("open")}),f.addEventListener("click",()=>{Z()?No():Ro(),b(),i=!1,l.classList.remove("open")}),document.addEventListener("click",S=>{i&&!a.contains(S.target)&&(i=!1,l.classList.remove("open"))}),window.addEventListener("keydown",S=>{S.key==="."&&(S.metaKey||S.ctrlKey)&&(S.preventDefault(),s=!s,a.style.display=s?"":"none",s||(i=!1,l.classList.remove("open"),j()))})}function Fc(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return Math.abs(t)}function Uc(e,t=[]){for(const n of t)if(n.toLowerCase()===e.toLowerCase())return`/${n}`;try{const n=xn(e),o=n?.sceneMeta?.route||n?.route;if(o)return`${o.startsWith("/")?o:`/${o}`}?scene=${encodeURIComponent(e)}`}catch{}return`/?scene=${encodeURIComponent(e)}`}function qc(e){try{return xn(e)?.sceneMeta||null}catch{return null}}const Wc={sceneMeta:{route:"/example",author:"dfosco"},navigation:{$ref:"navigation"},user:{name:"John Doe",username:"johndoe",role:"admin",avatar:"https://avatars.githubusercontent.com/u/1?v=4",profile:{bio:"Designer & developer",location:"San Francisco, CA"}},projects:[{id:1,name:"primer-react",description:"React components for the Primer Design System",owner:{name:"GitHub",avatar:"https://avatars.githubusercontent.com/u/9919?v=4"},stars:2500,issues:42},{id:2,name:"storyboard",description:"Prototyping meta-framework",owner:{name:"Jane Doe",avatar:"https://avatars.githubusercontent.com/u/1?v=4"},stars:128,issues:7}],settings:{theme:"dark_dimmed",notifications:!0,language:"en"}},Vc={sceneMeta:{route:"/example",author:["dfosco","heyamie","branonconor"]},user:{$ref:"jane-doe"},navigation:{$ref:"navigation"},projects:[{id:1,name:"primer-react",description:"React components for the Primer Design System",owner:{name:"GitHub",avatar:"https://avatars.githubusercontent.com/u/9919?v=4"},stars:2500,issues:42},{id:2,name:"storyboard",description:"Prototyping meta-framework",owner:{name:"Jane Doe",avatar:"https://avatars.githubusercontent.com/u/1?v=4"},stars:128,issues:7}],settings:{theme:"dark_dimmed",notifications:!0,language:"en"},signup:{fullName:"",email:"",password:"",organization:{name:"",size:"",role:""},workspace:{region:"",plan:"starter",newsletter:!1,agreeTerms:!1}}},Kc={topnav:[{icon:"code",label:"Code",url:"#"},{icon:"issue-opened",label:"Issues",url:"#"},{icon:"git-pull-request",label:"Pull requests",url:"#"},{icon:"people",label:"Agents",url:"#"},{icon:"play",label:"Actions",url:"#"},{icon:"project",label:"Projects",url:"#"},{icon:"star",label:"Models",url:"#"},{icon:"book",label:"Wiki",url:"#"},{icon:"shield",label:"Security",url:"#",counter:95,current:!0},{icon:"graph",label:"Insights",url:"#"},{icon:"gear",label:"Settings",url:"#"}]},Gc={primary:[{label:"Overview",url:"/Overview",icon:"home"},{label:"Issues",url:"/Issues",icon:"issue-opened"},{label:"Pull Requests",url:"#",icon:"git-pull-request"},{label:"Discussions",url:"#",icon:"comment-discussion"}],secondary:[{label:"Settings",url:"#",icon:"gear"},{label:"Help",url:"#",icon:"question"}]},Jc={name:"Jane Doe",username:"janedoe",role:"admin",avatar:"https://avatars.githubusercontent.com/u/1?v=4",profile:{bio:"Designer & developer",location:"San Francisco, CA"}},Yc={topnav:[{icon:"home",label:"Overview",url:"/Overview"},{icon:"repo",label:"Repositories",url:"/Repositories",counter:"5k+",current:!0},{icon:"project",label:"Projects",url:"#",counter:25},{icon:"package",label:"Packages",url:"#",counter:21},{icon:"people",label:"Teams",url:"#",counter:132},{icon:"person",label:"People",url:"#",counter:571},{icon:"shield",label:"Security",url:"#"},{icon:"graph",label:"Insights",url:"#"},{icon:"gear",label:"Settings",url:"#"}],sidenav:[{label:"All",url:"#",icon:"repo",current:!0},{label:"Contributed by me",url:"#",icon:"git-pull-request"},{label:"Adminable by me",url:"#",icon:"person"},{label:"Public",url:"#",icon:"eye"},{label:"Internal",url:"#",icon:"lock"},{label:"Private",url:"#",icon:"lock"},{label:"Sources",url:"#",icon:"code"},{label:"Forks",url:"#",icon:"repo-forked"},{label:"Archived",url:"#",icon:"archive"},{label:"Templates",url:"#",icon:"repo-template"}]},Zc=[{name:"banana-test-webdriverio-update-copilot-issue",description:"",language:null,forks:0,stars:0,url:"#"},{name:"dependabot-copilot-autofix",description:"Testing Autofix using Copilot Workspaces",language:"JavaScript",forks:0,stars:0,url:"#"},{name:"alona-copilot",description:"",language:null,forks:0,stars:0,url:"#"},{name:"spike-dependabot-snapshot-action",description:"Copilot-driven spike into using Dependabot as a dependency detector",language:"JavaScript",forks:0,stars:0,url:"#"},{name:"ghas-copilot-geekmasher",description:"",language:"JavaScript",forks:0,stars:0,url:"#"},{name:"copilot-autofix-demo-by-ot",description:"",language:"JavaScript",forks:0,stars:0,url:"#"}],Xc={topnav:[{icon:"home",label:"Overview",url:"/Overview"},{icon:"repo",label:"Repositories",url:"/Repositories",counter:"5k+",current:!0},{icon:"project",label:"Projects",url:"#",counter:25},{icon:"package",label:"Packages",url:"#",counter:21},{icon:"people",label:"Teams",url:"#",counter:132},{icon:"person",label:"People",url:"#",counter:571},{icon:"shield",label:"Security",url:"#"},{icon:"graph",label:"Insights",url:"#"},{icon:"gear",label:"Settings",url:"#"}],sidenav:[{label:"All",url:"#",icon:"repo",current:!0},{label:"Contributed by me",url:"#",icon:"git-pull-request"},{label:"Adminable by me",url:"#",icon:"person"},{label:"Public",url:"#",icon:"eye"},{label:"Internal",url:"#",icon:"lock"},{label:"Private",url:"#",icon:"lock"},{label:"Sources",url:"#",icon:"code"},{label:"Forks",url:"#",icon:"repo-forked"},{label:"Archived",url:"#",icon:"archive"},{label:"Templates",url:"#",icon:"repo-template"}]},Qc=[{id:"refactor-auth-sso",identifier:"FIL-10",title:"Refactor authentication flow to support SSO providers",description:"Our current auth flow only supports email/password login. We need to extend it to support SSO providers (Google, Okta, Azure AD) for enterprise customers.",status:"todo",priority:"high",labels:["Auth","Backend","Feature"],assignee:null,project:null,estimate:5,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-17T10:50:00Z",acceptanceCriteria:["Users can authenticate via Google OAuth 2.0","Users can authenticate via SAML-based SSO (Okta, Azure AD)","Existing email/password flow remains unchanged","Session tokens are issued consistently regardless of auth method","Admin panel includes SSO configuration settings"],technicalNotes:["Use the existing AuthService class as the base","Add a provider strategy pattern to abstract login methods","Store provider metadata in the identity_providers table","Redirect URI callback must handle both web and mobile clients"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"10min ago"}]},{id:"fix-rate-limiter-bypass",identifier:"FIL-9",title:"Fix rate limiter bypass on batch endpoints",description:"The rate limiter can be bypassed by splitting a large request into multiple smaller batch calls. Each sub-request is counted as a single hit instead of being weighted by payload size.",status:"in_progress",priority:"urgent",labels:["Bug","Security","Backend"],assignee:"danielfosco",assigneeAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",project:"Platform Infrastructure",estimate:3,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-16T14:20:00Z",acceptanceCriteria:["Batch endpoints count each item in the payload toward the rate limit","Rate limit headers reflect weighted counts","Existing single-request endpoints are unaffected"],technicalNotes:["Update RateLimiterMiddleware to accept a weight function","Batch controller should pass payload.length as weight","Add integration tests for weighted rate limiting"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"1 day ago"},{type:"comment",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"6 hours ago",body:"Started investigating — the middleware doesn't have access to parsed body at the point it runs. May need to restructure."}]},{id:"add-webhook-retry-logic",identifier:"FIL-8",title:"Add exponential backoff retry logic for webhook deliveries",description:"Webhook deliveries currently fail silently on timeout. We need retry logic with exponential backoff and a dead-letter queue for persistently failing endpoints.",status:"todo",priority:"medium",labels:["Feature","Backend"],assignee:null,project:"Platform Infrastructure",estimate:8,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-15T09:00:00Z",acceptanceCriteria:["Failed webhook deliveries are retried up to 5 times","Retry intervals follow exponential backoff (1s, 2s, 4s, 8s, 16s)","After all retries, the event is moved to a dead-letter queue","Delivery status is visible in the admin dashboard"],technicalNotes:["Use the existing job queue (BullMQ) for retry scheduling","Add a webhook_deliveries table to track attempts","Dead-letter events should be replayable from the admin UI"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"2 days ago"}]},{id:"dashboard-loading-skeleton",identifier:"FIL-7",title:"Add loading skeletons to dashboard widgets",description:"Dashboard widgets show a blank space while data is loading. Add skeleton loaders to improve perceived performance.",status:"done",priority:"low",labels:["Feature","Frontend"],assignee:"danielfosco",assigneeAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",project:"Dashboard",estimate:2,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-12T16:30:00Z",acceptanceCriteria:["All dashboard cards show skeleton loaders while fetching data","Skeleton matches the shape of the loaded content","Transition from skeleton to content is smooth"],technicalNotes:["Use Reshaped Skeleton component","Wrap each StatCard in a loading boundary"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"5 days ago"},{type:"comment",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"3 days ago",body:"Done — merged in FIL-7-skeletons branch."}]},{id:"migrate-env-config",identifier:"FIL-6",title:"Migrate environment config to typed schema validation",description:"Environment variables are currently accessed via raw process.env lookups with no validation. Migrate to a typed config schema using zod so missing or malformed values are caught at startup.",status:"todo",priority:"medium",labels:["Backend","DevEx"],assignee:null,project:null,estimate:3,author:"danielfosco",authorAvatar:"https://avatars.githubusercontent.com/u/4331946?v=4",createdAt:"2026-02-10T11:00:00Z",acceptanceCriteria:["All environment variables are defined in a single config schema","Server fails fast on startup if required variables are missing","Types are inferred from the schema — no manual type assertions"],technicalNotes:["Use zod for schema definition and parsing","Create src/config.ts as the single source of truth","Replace all process.env.X references with config.X"],activity:[{type:"created",user:"danielfosco",avatar:"https://avatars.githubusercontent.com/u/4331946?v=4",time:"1 week ago"}]}],el=[{id:"welcome-to-storyboard",title:"Welcome to Storyboard",date:"2026-02-14",author:"Jane Doe",summary:"An introduction to building prototypes with Storyboard — the meta-framework for design system exploration.",body:`Storyboard is a prototyping meta-framework that lets you build interactive UI prototypes powered by real data. Instead of hard-coding sample content, you define data files that feed into your pages automatically.

Each page can load a scene (its data context), reference shared objects, and even render parameterized content from record collections — like this very blog post.

Get started by creating a \`.scene.json\` file and a page component. The data flows in, and you focus on the design.`},{id:"data-driven-prototyping",title:"Data-Driven Prototyping",date:"2026-02-13",author:"Jane Doe",summary:"How scenes, objects, and records work together to power realistic prototypes.",body:`Traditional prototyping tools force you to duplicate content across screens. Storyboard takes a different approach: your data lives in JSON files, and pages consume it through hooks.

**Scenes** provide the full data context for a page. **Objects** are reusable fragments — a user profile, a navigation config — that scenes reference via \`$ref\`. **Records** are collections that power parameterized pages, like blog posts or product listings.

This separation means you can swap data without touching UI code, test edge cases by editing JSON, and share data fragments across multiple pages.`},{id:"design-system-exploration",title:"Exploring Design Systems",date:"2026-02-12",author:"Jane Doe",summary:"Using Storyboard to explore and compare design systems like Primer and Reshaped.",body:`One of Storyboard's strengths is its design system agnosticism. While it ships with Primer React as the default, you can bring any design system — Reshaped, Radix, Chakra, or your own.

Each page is independent: one page can use Primer components while another uses Reshaped. This makes Storyboard ideal for comparing design systems side by side, exploring component APIs, and building proof-of-concept pages before committing to a system.

The key is that the data layer stays the same regardless of which components render it.`}],Rr={"other-scene":Wc,default:Vc},tl={"security-advisory-navigation":Kc,navigation:Gc,"jane-doe":Jc,"finch-pearl-navigation":Yc,"_dsp-repositories":Zc,"_dsp-navigation":Xc},nl={issues:Qc,posts:el};vc({scenes:Rr,objects:tl,records:nl});const kn=w.createContext(null);function rl(e){const t=e.replace(/\/+$/,"")||"/";return t==="/"?"index":t.split("/").pop()||"index"}function sl({sceneName:e,recordName:t,recordParam:n,children:o}){const s=xo(),i=new URLSearchParams(s.search).get("scene"),a=rl(s.pathname),c=i||e||(yc(a)?a:"default"),l=vo();w.useEffect(()=>Mo(),[]);const{data:u,error:d}=w.useMemo(()=>{try{let f=xn(c);if(t&&n&&l[n]){const b=_c(t,l[n]);b&&(f=en(f,{record:b}))}return Ic(c),{data:f,error:null}}catch(f){return{data:null,error:f.message}}},[c,t,n,l]),p={data:u,error:d,loading:!1,sceneName:c};return d?r.jsxs("span",{style:{color:"var(--fgColor-danger, #f85149)"},children:["Error loading scene: ",d]}):r.jsx(kn.Provider,{value:p,children:o})}function F(e){const t=w.useContext(kn);if(t===null)throw new Error("useSceneData must be used within a <StoryboardProvider>");const{data:n,loading:o,error:s}=t,i=w.useSyncExternalStore($t,Tr),a=w.useSyncExternalStore(Nt,wn);return w.useMemo(()=>{if(o||s||n==null)return;const l=Z(),u=l?$o:Ao,d=l?Ar:Er;if(!e){const h=d(),y=Object.keys(h);if(y.length===0)return n;const j=St(n);for(const S of y)tn(j,S,h[S]);return j}const p=u(e);if(p!==null)return p;const f=e+".",b=d(),x=Object.keys(b).filter(h=>h.startsWith(f)),g=ko(n,e);if(x.length>0&&g!==void 0){const h=St(g);for(const y of x){const j=y.slice(f.length);tn(h,j,b[y])}return h}return g===void 0?(console.warn(`[useSceneData] Path "${e}" not found in scene data.`),{}):g},[n,o,s,e,i,a])}function E(e){const t=w.useContext(kn);if(t===null)throw new Error("useOverride must be used within a <StoryboardProvider>");const{data:n}=t,o=Z(),s=n!=null?ko(n,e):void 0,i=w.useCallback(()=>Ao(e),[e]),a=w.useSyncExternalStore($t,i);w.useSyncExternalStore(Nt,wn);let c;if(o){const d=$o(e);c=d!==null?d:s}else c=a!==null?a:s;const l=w.useCallback(d=>{Z()||Re(e,d),Xn(e,d)},[e]),u=w.useCallback(()=>{Z()||nn(e),Ls(e)},[e]);return[c,l,u]}function ol(){const e=w.useContext(kn);if(e===null)throw new Error("useScene must be used within a <StoryboardProvider>");const t=w.useCallback(n=>{const o=new URL(window.location.href);o.searchParams.set("scene",n),window.location.href=o.toString()},[]);return{sceneName:e.sceneName,switchScene:t}}function Do(e,t){const n=Z()?Ar():Er(),o=`record.${t}.`,s=Object.keys(n).filter(c=>c.startsWith(o));if(s.length===0)return e;const i=St(e),a={};for(const c of s){const l=c.slice(o.length),u=l.indexOf(".");if(u===-1)continue;const d=l.slice(0,u),p=l.slice(u+1);a[d]||(a[d]={}),a[d][p]=n[c]}for(const[c,l]of Object.entries(a)){const u=i.find(d=>d.id===c);if(u)for(const[d,p]of Object.entries(l))tn(u,d,p);else{const d={id:c};for(const[p,f]of Object.entries(l))tn(d,p,f);i.push(d)}}return i}function Bo(e,t="id"){const o=vo()[t],s=w.useSyncExternalStore($t,Tr),i=w.useSyncExternalStore(Nt,wn);return w.useMemo(()=>{if(!o)return null;try{const a=Cr(e);return Do(a,e).find(l=>l[t]===o)??null}catch(a){return console.error(`[useRecord] ${a.message}`),null}},[e,t,o,s,i])}function zo(e){const t=w.useSyncExternalStore($t,Tr),n=w.useSyncExternalStore(Nt,wn);return w.useMemo(()=>{try{const o=Cr(e);return Do(o,e)}catch(o){return console.error(`[useRecords] ${o.message}`),[]}},[e,t,n])}function Ce(e,t,n){return E(`record.${e}.${t}.${n}`)}function il(e,t=""){const n=t.replace(/\/+$/,"");document.addEventListener("click",s=>{if(s.metaKey||s.ctrlKey||s.shiftKey||s.altKey)return;const i=s.target.closest("a[href]");if(!i||i.target==="_blank")return;const a=new URL(i.href,window.location.origin);if(a.origin!==window.location.origin)return;const c=window.location.hash,l=c&&c!=="#",d=a.hash&&a.hash!=="#"?a.hash:l?c:"";let p=a.pathname;n&&p.startsWith(n)&&(p=p.slice(n.length)||"/"),s.preventDefault(),e.navigate(p+a.search+d),setTimeout(on,0)});const o=e.navigate.bind(e);e.navigate=(s,i)=>{const a=window.location.hash;return a&&a!=="#"&&typeof s=="string"&&!s.includes("#")&&(s=s+a),o(s,i).then(l=>(on(),l))}}const Pt=w.createContext(null),al="_container_1rm4l_1",cl="_header_1rm4l_8",ll="_title_1rm4l_13",dl="_subtitle_1rm4l_22",ul="_sceneCount_1rm4l_29",pl="_grid_1rm4l_36",fl="_list_1rm4l_44",hl="_listItem_1rm4l_51",ml="_author_1rm4l_67",gl="_card_1rm4l_71",bl="_thumbnail_1rm4l_88",xl="_cardBody_1rm4l_108",vl="_sceneName_1rm4l_116",yl="_empty_1rm4l_126",_l="_headerTop_1rm4l_145",wl="_branchDropdown_1rm4l_152",jl="_branchIcon_1rm4l_160",Sl="_branchSelect_1rm4l_168",Cl="_authorAvatars_1rm4l_201",El="_authorAvatar_1rm4l_201",kl="_authorName_1rm4l_228",P={container:al,header:cl,title:ll,subtitle:dl,sceneCount:ul,grid:pl,list:fl,listItem:hl,author:ml,card:gl,thumbnail:bl,cardBody:xl,sceneName:vl,empty:yl,headerTop:_l,branchDropdown:wl,branchIcon:jl,branchSelect:Sl,authorAvatars:Cl,authorAvatar:El,authorName:kl};function Il({name:e}){const t=Fc(e),n=[];for(let s=0;s<12;s++){const i=t*(s+1),a=(i*7+s*31)%320,c=(i*13+s*17)%200,l=20+i*(s+3)%80,u=8+i*(s+7)%40,d=.06+i*(s+2)%20/100,p=s%3===0?"var(--placeholder-accent)":s%3===1?"var(--placeholder-fg)":"var(--placeholder-muted)";n.push(r.jsx("rect",{x:a,y:c,width:l,height:u,rx:2,fill:p,opacity:d},s))}const o=[];for(let s=0;s<6;s++){const a=10+t*(s+5)%180;o.push(r.jsx("line",{x1:0,y1:a,x2:320,y2:a,stroke:"var(--placeholder-grid)",strokeWidth:.5,opacity:.4},`h${s}`))}for(let s=0;s<8;s++){const a=10+t*(s+9)%300;o.push(r.jsx("line",{x1:a,y1:0,x2:a,y2:200,stroke:"var(--placeholder-grid)",strokeWidth:.5,opacity:.3},`v${s}`))}return r.jsxs("svg",{viewBox:"0 0 320 200",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[r.jsx("rect",{width:"320",height:"200",fill:"var(--placeholder-bg)"}),o,n]})}function Al(e){const t=(e||"").match(/\/branch--([^/]+)\/?$/);return t?t[1]:"main"}function Ho({scenes:e={},pageModules:t={},basePath:n,title:o="Viewfinder",subtitle:s,showThumbnails:i=!1}){const[a,c]=w.useState(null),l=w.useMemo(()=>Object.keys(e),[e]),u=w.useMemo(()=>Object.keys(t).map(x=>x.replace("/src/pages/","").replace(".jsx","")).filter(x=>!x.startsWith("_")&&x!=="index"&&x!=="viewfinder"),[t]),d=w.useMemo(()=>(n||"/storyboard-source/").replace(/\/branch--[^/]*\/$/,"/"),[n]),p=w.useMemo(()=>Al(n),[n]),f=w.useMemo(()=>[{branch:"main",folder:""},{branch:"feat/comments-v2",folder:"branch--feat-comments-v2"},{branch:"fix/nav-overflow",folder:"branch--fix-nav-overflow"}],[]);w.useEffect(()=>{const x=`${d}branches.json`;fetch(x).then(g=>g.ok?g.json():null).then(g=>c(Array.isArray(g)&&g.length>0?g:f)).catch(()=>c(f))},[d,f]);const b=x=>{const g=x.target.value;g&&(window.location.href=`${d}${g}/`)};return r.jsxs("div",{className:P.container,children:[r.jsxs("header",{className:P.header,children:[r.jsxs("div",{className:P.headerTop,children:[r.jsxs("div",{children:[r.jsx("h1",{className:P.title,children:o}),s&&r.jsx("p",{className:P.subtitle,children:s})]}),a&&a.length>0&&r.jsxs("div",{className:P.branchDropdown,children:[r.jsx("svg",{className:P.branchIcon,width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true",children:r.jsx("path",{d:"M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.492 2.492 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"})}),r.jsxs("select",{id:"branch-select",className:P.branchSelect,defaultValue:"",onChange:b,"aria-label":"Switch branch",children:[r.jsx("option",{value:"",disabled:!0,children:p}),a.map(x=>r.jsx("option",{value:x.folder,children:x.branch},x.folder))]})]})]}),r.jsxs("p",{className:P.sceneCount,children:[l.length," scene",l.length!==1?"s":""]})]}),l.length===0?r.jsxs("p",{className:P.empty,children:["No scenes found. Add a ",r.jsx("code",{children:"*.scene.json"})," file to get started."]}):r.jsx("section",{children:r.jsx("div",{className:i?P.grid:P.list,children:l.map(x=>{const g=qc(x);return r.jsxs("a",{href:Uc(x,u),className:i?P.card:P.listItem,children:[i&&r.jsx("div",{className:P.thumbnail,children:r.jsx(Il,{name:x})}),r.jsxs("div",{className:P.cardBody,children:[r.jsx("p",{className:P.sceneName,children:x}),g?.author&&(()=>{const h=Array.isArray(g.author)?g.author:[g.author];return r.jsxs("div",{className:P.author,children:[r.jsx("span",{className:P.authorAvatars,children:h.map(y=>r.jsx("img",{src:`https://github.com/${y}.png?size=32`,alt:y,className:P.authorAvatar},y))}),r.jsx("span",{className:P.authorName,children:h.join(", ")})]})})()]})]},x)})})})]})}function Tl(){return r.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",backgroundColor:"var(--bgColor-default, #0d1117)"},children:[r.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",style:{animation:"spin 0.8s linear infinite"},children:[r.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"var(--fgColor-muted, #484f58)",strokeWidth:"2.5",opacity:"0.25"}),r.jsx("path",{d:"M12 2a10 10 0 0 1 10 10",stroke:"var(--fgColor-default, #e6edf3)",strokeWidth:"2.5",strokeLinecap:"round"})]}),r.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg) } }"})]})}function Rl(){return r.jsx(sl,{children:r.jsx(w.Suspense,{fallback:r.jsx(Tl,{}),children:r.jsx(yo,{})})})}const Nr=Object.freeze(Object.defineProperty({__proto__:null,default:Rl},Symbol.toStringTag,{value:"Module"})),Nl="_navItem_ec50i_1",Ll="_active_ec50i_16",Ps={navItem:Nl,active:Ll},Ol=[{label:"Overview",path:"/Dashboard"},{label:"Issues",path:"/issues"},{label:"Projects",path:"/Dashboard"},{label:"Views",path:"/Dashboard"}];function cn({orgName:e,activePage:t,userInfo:n}){const o=yr();return r.jsx(ve,{padding:4,children:r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(v,{variant:"featured-3",weight:"bold",children:e||"—"}),r.jsx(le,{}),r.jsx("nav",{children:r.jsx(m,{direction:"column",gap:0,children:Ol.map(s=>r.jsx("button",{type:"button",className:`${Ps.navItem} ${t===s.label?Ps.active:""}`,onClick:()=>o(s.path),children:r.jsx(v,{variant:"body-3",weight:t===s.label?"bold":"regular",children:s.label})},s.label))})}),n&&r.jsxs(r.Fragment,{children:[r.jsx(le,{}),r.jsxs(m,{direction:"column",gap:1,paddingTop:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:n.name||"—"}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:n.role||"—"})]})]})]})})}function He(e){return e==null||e===""?"—":String(e)}function zt({label:e,value:t,change:n,color:o}){return r.jsx(ve,{padding:5,children:r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(v,{variant:"body-3",color:"neutral-faded",children:e}),r.jsx(v,{variant:"featured-2",weight:"bold",children:t}),r.jsx(v,{variant:"caption-1",color:o||"positive",children:n})]})})}function ut({label:e,value:t,max:n,color:o}){return r.jsxs(m,{direction:"column",gap:1,children:[r.jsxs(m,{direction:"row",justify:"space-between",children:[r.jsx(v,{variant:"body-3",children:e}),r.jsx(v,{variant:"body-3",weight:"medium",children:t})]}),r.jsx(nc,{value:typeof n=="number"?parseFloat(t)/n*100:parseFloat(t),color:o,size:"small",attributes:{"aria-label":e}})]})}const $l=[{label:"Team standup",time:"Today, 10:00"},{label:"Architecture review",time:"Today, 11:30"},{label:"Lunch",time:"Today, 12:30"},{label:"Sprint planning",time:"Today, 14:00"},{label:"Deploy v2.4",time:"Today, 17:00"}];function Pl(){const e=F("signup.fullName"),t=F("signup.organization.name"),n=F("signup.organization.size"),o=F("signup.organization.role"),s=F("signup.workspace.region"),i=F("signup.workspace.plan");return r.jsx(wt,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(cn,{orgName:He(t),activePage:"Overview",userInfo:{name:He(e),role:He(o)}})}),r.jsx(m.Item,{columns:10,direction:"column",align:"center",justify:"center",children:r.jsxs(m,{direction:"column",maxWidth:"80%",gap:4,children:[r.jsxs(m,{direction:"row",justify:"space-between",align:"center",children:[r.jsx(v,{variant:"featured-2",weight:"bold",children:"Overview"}),r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsxs(jt,{color:"positive",children:[He(i)," plan"]}),r.jsx(jt,{variant:"faded",children:He(s)})]})]}),r.jsxs(m,{direction:"row",gap:3,children:[r.jsx(m.Item,{columns:3,children:r.jsx(zt,{label:"Active Users",value:"0",change:"No data yet",color:"neutral-faded"})}),r.jsx(m.Item,{columns:3,children:r.jsx(zt,{label:"Deployments",value:"0",change:"No data yet",color:"neutral-faded"})}),r.jsx(m.Item,{columns:3,children:r.jsx(zt,{label:"New Members",value:"1",change:"That's you!",color:"primary"})}),r.jsx(m.Item,{columns:3,children:r.jsx(zt,{label:"Team Size",value:He(n),change:"Current plan capacity",color:"primary"})})]}),r.jsxs(m,{direction:"row",gap:4,children:[r.jsx(m.Item,{columns:5,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(ve,{padding:4,children:r.jsx(tc,{})}),r.jsx(ve,{padding:5,children:r.jsxs(m,{direction:"column",gap:3,children:[r.jsx(v,{variant:"body-2",weight:"bold",children:"Schedule"}),r.jsx(m,{direction:"column",gap:2,children:$l.map(a=>r.jsx(Yn,{name:`schedule-${a.label}`,children:r.jsxs(m,{direction:"column",children:[r.jsx(v,{variant:"body-3",children:a.label}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:a.time})]})},a.label))})]})})]})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(ve,{padding:5,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(v,{variant:"body-2",weight:"bold",children:"Metrics"}),r.jsx(ut,{label:"Performance",value:"0",max:100,color:"neutral-faded"}),r.jsx(ut,{label:"Monthly revenue goal",value:"0",max:100,color:"neutral-faded"}),r.jsx(ut,{label:"Error rate",value:"0",max:100,color:"neutral-faded"}),r.jsx(ut,{label:"User acquisition",value:"0",max:100,color:"neutral-faded"}),r.jsx(ut,{label:"Releases shipped",value:"0",max:100,color:"neutral-faded"})]})}),r.jsx(ve,{padding:5,children:r.jsxs(m,{direction:"column",gap:3,children:[r.jsx(v,{variant:"body-2",weight:"bold",children:"Recent activity"}),r.jsx(le,{}),r.jsxs(m,{direction:"column",gap:4,align:"center",paddingBlock:6,children:[r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"No activity yet"}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Deployments and events will appear here once your workspace is active."})]})]})})]})})]})]})})]})})})}const Lr=Object.freeze(Object.defineProperty({__proto__:null,default:Pl},Symbol.toStringTag,{value:"Module"})),Ml="/storyboard-source/assets/mona-loading-a6vFIHDd.gif",Dl="_container_1dofh_1",Bl="_contentBox_1dofh_12",zl="_codeLine_1dofh_21",Hl="_iconWrapper_1dofh_26",Fl="_codeText_1dofh_32",Ul="_monaWrapper_1dofh_39",ql="_footerHeader_1dofh_45",Wl="_tipsText_1dofh_50",Vl="_warningText_1dofh_55",ce={container:Dl,contentBox:Bl,codeLine:zl,iconWrapper:Hl,codeText:Fl,monaWrapper:Ul,footerHeader:ql,tipsText:Wl,warningText:Vl};function vt({name:e,onChange:t,value:n,...o}){const s=w.useContext(Pt),i=s?.prefix&&e?`${s.prefix}.${e}`:e,[a]=E(i||""),[c,l]=w.useState(a??""),u=!!s&&!!e;w.useEffect(()=>{if(u)return s.subscribe(e,f=>l(f))},[u,s,e]),w.useEffect(()=>{u&&a!=null&&(l(a),s.setDraft(e,a))},[]);const d=f=>{u&&(l(f.target.value),s.setDraft(e,f.target.value)),t&&t(f)},p=u?c:n;return r.jsx(Yt,{name:e,value:p,onChange:d,...o})}function Ee({name:e,onChange:t,value:n,children:o,...s}){const i=w.useContext(Pt),a=i?.prefix&&e?`${i.prefix}.${e}`:e,[c]=E(a||""),[l,u]=w.useState(c??""),d=!!i&&!!e;w.useEffect(()=>{if(d)return i.subscribe(e,b=>u(b))},[d,i,e]),w.useEffect(()=>{d&&c!=null&&(u(c),i.setDraft(e,c))},[]);const p=b=>{d&&(u(b.target.value),i.setDraft(e,b.target.value)),t&&t(b)},f=d?l:n;return r.jsx(bo,{name:e,value:f,onChange:p,...s,children:o})}Ee.Option=bo.Option;function Kl({name:e,onChange:t,checked:n,...o}){const s=w.useContext(Pt),i=s?.prefix&&e?`${s.prefix}.${e}`:e,[a]=E(i||""),c=a==="true"||a===!0,[l,u]=w.useState(c),d=!!s&&!!e;w.useEffect(()=>{if(d)return s.subscribe(e,b=>u(b==="true"||b===!0))},[d,s,e]),w.useEffect(()=>{if(d&&a!=null){const b=a==="true"||a===!0;u(b),s.setDraft(e,b?"true":"false")}},[]);const p=b=>{d&&(u(b.target.checked),s.setDraft(e,b.target.checked?"true":"false")),t&&t(b)},f=d?l:n;return r.jsx(Fa,{name:e,checked:f,onChange:p,...o})}function Fo({name:e,onChange:t,value:n,...o}){const s=w.useContext(Pt),i=s?.prefix&&e?`${s.prefix}.${e}`:e,[a]=E(i||""),[c,l]=w.useState(a??""),u=!!s&&!!e;w.useEffect(()=>{if(u)return s.subscribe(e,f=>l(f))},[u,s,e]),w.useEffect(()=>{u&&a!=null&&(l(a),s.setDraft(e,a))},[]);const d=f=>{u&&(l(f.target.value),s.setDraft(e,f.target.value)),t&&t(f)},p=u?c:n;return r.jsx(Ua,{name:e,value:p,onChange:d,...o})}function Uo({data:e,onSubmit:t,children:n,...o}){const s=e||null,i=w.useRef({}),a=w.useRef({}),c=w.useCallback(f=>i.current[f],[]),l=w.useCallback((f,b)=>{i.current[f]=b;const x=a.current[f];x&&x(b)},[]),u=w.useCallback((f,b)=>(a.current[f]=b,()=>{delete a.current[f]}),[]),d=f=>{if(f.preventDefault(),s){const b=Z()?Xn:Re;for(const[x,g]of Object.entries(i.current))b(`${s}.${x}`,g)}t&&t(f)},p={prefix:s,getDraft:c,setDraft:l,subscribe:u};return r.jsx(Pt.Provider,{value:p,children:r.jsx("form",{...o,onSubmit:d,children:n})})}const Gl="_container_1ykvj_1",Jl="_title_1ykvj_5",Yl="_codeBlock_1ykvj_11",Zl="_form_1ykvj_38",Fe={container:Gl,title:Jl,codeBlock:Yl,form:Zl};function Xl(){const[e,t,n]=E("user.name"),[o,s,i]=E("user.username"),[a,,c]=E("user.profile.bio"),[l,,u]=E("user.profile.location"),{sceneName:d,switchScene:p}=ol(),f=d==="default"?"other-scene":"default",b=()=>{n(),i(),c(),u()};return r.jsxs("div",{className:Fe.container,children:[r.jsx("h2",{className:Fe.title,children:"useOverride Demo"}),r.jsxs("p",{children:["Add ",r.jsx("code",{children:"#user.name=Alice"})," to the URL hash to override any value."]}),r.jsxs("section",{children:[r.jsx(L,{as:"h3",fontWeight:"bold",children:"Scene"}),r.jsxs("pre",{className:Fe.codeBlock,children:["current: ",d]}),r.jsxs(ae,{size:"small",onClick:()=>p(f),children:['Switch to "',f,'"']})]}),r.jsxs("section",{children:[r.jsx(L,{as:"h3",fontWeight:"bold",children:"User"}),r.jsxs("pre",{className:Fe.codeBlock,children:[e," (",o,")"]}),r.jsxs("pre",{className:Fe.codeBlock,children:[a," · ",l]}),r.jsx(L,{as:"h4",fontWeight:"semibold",fontSize:1,children:"Switch User"}),r.jsxs(qa,{children:[r.jsx(ae,{size:"small",onClick:()=>t("Alice Chen"),children:"Update name"}),r.jsx(ae,{size:"small",onClick:()=>s("alice123"),children:"Update username"})]}),r.jsx(ae,{size:"small",variant:"danger",onClick:b,style:{marginLeft:"8px"},children:"Reset"})]}),r.jsx("a",{href:"/storyboard-source/Overview",children:"hello"}),r.jsxs("section",{children:[r.jsx(L,{as:"h3",fontWeight:"bold",children:"Edit User"}),r.jsxs(Uo,{data:"user",className:Fe.form,children:[r.jsxs(z,{children:[r.jsx(z.Label,{children:"Name"}),r.jsx(vt,{name:"name",placeholder:"Name",size:"small"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Username"}),r.jsx(vt,{name:"username",placeholder:"Username",size:"small"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Bio"}),r.jsx(Fo,{name:"profile.bio",placeholder:"Bio"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Location"}),r.jsx(vt,{name:"profile.location",placeholder:"Location",size:"small"})]}),r.jsx(ae,{type:"submit",size:"small",children:"Save"})]})]})]})}function Ql(){return r.jsxs("div",{className:ce.container,children:[r.jsx(_o,{size:24}),r.jsx(Xl,{}),r.jsxs(K,{padding:"spacious",className:ce.contentBox,children:[r.jsx(Ms,{icon:rc,iconColor:"success.fg",children:"Mona's playground successfully initialised..."}),r.jsxs(Ms,{icon:sc,iconColor:"accent.fg",children:["Visit ",r.jsx(L,{className:ce.warningText,children:"src/Playground.js"})," ","and start building your own layouts using Primer."]}),r.jsx("div",{className:ce.monaWrapper,children:r.jsx("img",{src:Ml,alt:"mona",width:48,height:48})})]}),r.jsx(ed,{})]})}function Ms({icon:e,children:t}){return r.jsxs(K,{direction:"horizontal",className:ce.codeLine,children:[r.jsx(K,{className:ce.iconWrapper,children:r.jsx(e,{size:16})}),r.jsx(L,{as:"p",className:ce.codeText,children:t})]})}function ed(){return r.jsxs(K,{gap:"condensed",children:[r.jsxs(K,{direction:"horizontal",className:ce.footerHeader,children:[r.jsx(_r,{size:18}),r.jsx(L,{className:ce.tipsText,children:"Tips"})]}),r.jsxs(L,{children:["Before you get started check out our"," ",r.jsx(Es,{href:"https://primer.style/react",target:"_blank",children:"Primer React Documentation"})," ","and"," ",r.jsx(Es,{href:"https://ui.githubapp.com/storybook/?path=/docs/templates-readme--docs&globals=viewport:narrow",target:"_blank",children:"Primer Templates (staff only)"})]})]})}const td="_container_m20cu_1",nd="_buttonWrapper_m20cu_7",rd="_label_m20cu_12",zn={container:td,buttonWrapper:nd,label:rd},Ds="sb-color-scheme";function qo(){const{setDayScheme:e,setNightScheme:t,colorScheme:n}=Wa();w.useEffect(()=>{const a=localStorage.getItem(Ds);a&&(e(a),t(a))},[]),w.useLayoutEffect(()=>{document.documentElement.setAttribute("data-sb-theme",n)},[n]);const o=a=>{e(a),t(a),localStorage.setItem(Ds,a)},s=[{name:"Light",value:"light",icon:Ts},{name:"Light colorblind",value:"light_colorblind",icon:Ts},{name:"Dark",value:"dark",icon:Bt},{name:"Dark colorblind",value:"dark_colorblind",icon:Bt},{name:"Dark high contrast",value:"dark_high_contrast",icon:Bt},{name:"Dark Dimmed",value:"dark_dimmed",icon:Bt}],i=s.find(a=>a.value===n);return r.jsx(K,{padding:"normal",className:zn.container,children:r.jsx(K,{className:zn.buttonWrapper,children:r.jsxs(Ke,{children:[r.jsxs(Ke.Button,{size:"small",children:[r.jsx(i.icon,{}),r.jsxs(K,{className:zn.label,children:[" ",i.name]})]}),r.jsx(Ke.Overlay,{align:"right",children:r.jsx(Ie,{showDividers:!0,children:r.jsx(Ie.Group,{selectionVariant:"single",children:s.map(a=>r.jsx(Ie.Item,{href:"#",selected:a.value===n,onSelect:()=>o(a.value),children:a.name},a.value))})})})]})})})}function sd(){return r.jsxs(r.Fragment,{children:[r.jsx(Ql,{}),r.jsx(qo,{})]})}const Or=Object.freeze(Object.defineProperty({__proto__:null,default:sd},Symbol.toStringTag,{value:"Module"}));var Hn={exports:{}},Fn,Bs;function od(){if(Bs)return Fn;Bs=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fn=e,Fn}var Un,zs;function id(){if(zs)return Un;zs=1;var e=od();function t(){}function n(){}return n.resetWarningCache=t,Un=function(){function o(a,c,l,u,d,p){if(p!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}o.isRequired=o;function s(){return o}var i={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:s,element:o,elementType:o,instanceOf:s,node:o,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},Un}var Hs;function ad(){return Hs||(Hs=1,Hn.exports=id()()),Hn.exports}var cd=ad();const se=Xa(cd),ld="_header_1282e_1",dd="_headerContent_1282e_8",ud="_titleWrapper_1282e_17",pd="_separator_1282e_21",fd="_subtitle_1282e_25",pt={header:ld,headerContent:dd,titleWrapper:ud,separator:pd,subtitle:fd},hd=[{icon:At,label:"Code",current:!0},{icon:st,label:"Issues",counter:30},{icon:Tt,label:"Pull Requests",counter:3},{icon:wr,label:"Discussions"},{icon:mn,label:"Actions"},{icon:Rt,label:"Projects",counter:7},{icon:ot,label:"Security",counter:12},{icon:et,label:"Insights"}];function Wo({items:e=hd,title:t,subtitle:n}){return r.jsxs(K,{as:"header",className:pt.header,children:[r.jsxs("div",{className:pt.headerContent,children:[r.jsx(Va,{icon:oc,"aria-label":"Open global navigation menu",unsafeDisableTooltip:!0}),r.jsx(_o,{size:32}),r.jsxs(K,{direction:"horizontal",gap:"condensed",className:pt.titleWrapper,children:[r.jsx("span",{children:t||"title"}),n&&r.jsxs(r.Fragment,{children:[r.jsx(L,{className:pt.separator,children:"/"}),r.jsx(L,{className:pt.subtitle,children:n||"subtitle"})]})]})]}),r.jsx(ks,{"aria-label":"Repository",children:e.map(o=>r.jsx(ks.Item,{icon:o.icon,"aria-current":o.current?"page":void 0,counter:o.counter,href:o.url,children:o.label},o.label))})]})}Wo.propTypes={items:se.arrayOf(se.shape({icon:se.elementType,label:se.string.isRequired,current:se.bool,counter:se.number,url:se.string})),title:se.string,subtitle:se.string};const md=[{icon:st,label:"Open issues",url:"#"},{icon:_r,label:"Your issues",url:"#"},{icon:jr,label:"Assigned to you",url:"#",current:!0},{icon:wo,label:"Mentioning you",url:"#"}];function gd({items:e=md}){return r.jsx(Dn,{"aria-label":"Navigation",children:e.map(t=>r.jsxs(Dn.Item,{href:t.url,"aria-current":t.current?"page":void 0,children:[t.icon&&r.jsx(Dn.LeadingVisual,{children:r.jsx(t.icon,{})}),t.label]},t.label))})}const bd="_wrapper_74lhx_1",xd="_navigation_74lhx_7",vd="_main_74lhx_13",yd="_container_74lhx_22",Ht={wrapper:bd,navigation:xd,main:vd,container:yd};function ye({children:e,title:t,subtitle:n,topnav:o,sidenav:s}){return r.jsxs(K,{className:Ht.container,children:[r.jsx(Wo,{title:t,subtitle:n,items:o}),r.jsxs("div",{className:Ht.wrapper,children:[s&&r.jsx("aside",{className:Ht.navigation,children:r.jsx(gd,{items:s})}),r.jsx("main",{className:Ht.main,children:e})]})]})}const _d=[{icon:Sr,label:"Home",url:"/"},{icon:gn,label:"Forms",url:"/Forms",current:!0}];function wd(){const[,,e]=E("checkout");return r.jsxs(ye,{title:"Storyboard",subtitle:"Forms",topnav:_d,children:[r.jsx(L,{as:"h1",fontSize:"larger",children:"Form Components Demo"}),r.jsx(L,{as:"p",color:"fg.muted",children:"Type in the fields below, then click Submit to persist values in the URL hash. Refresh the page or share the URL to restore state."}),r.jsx(Uo,{data:"checkout",children:r.jsxs(K,{direction:"vertical",gap:"normal",padding:"normal",children:[r.jsxs(z,{children:[r.jsx(z.Label,{children:"Email"}),r.jsx(vt,{name:"email",placeholder:"you@example.com"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Full Name"}),r.jsx(vt,{name:"name",placeholder:"Jane Doe"})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Shipping Address"}),r.jsx(Fo,{name:"address",placeholder:"123 Main St..."})]}),r.jsxs(z,{children:[r.jsx(z.Label,{children:"Country"}),r.jsxs(Ee,{name:"country",children:[r.jsx(Ee.Option,{value:"",children:"Select a country"}),r.jsx(Ee.Option,{value:"us",children:"United States"}),r.jsx(Ee.Option,{value:"ca",children:"Canada"}),r.jsx(Ee.Option,{value:"uk",children:"United Kingdom"}),r.jsx(Ee.Option,{value:"de",children:"Germany"})]})]}),r.jsxs(z,{children:[r.jsx(Kl,{name:"newsletter"}),r.jsx(z.Label,{children:"Subscribe to newsletter"})]}),r.jsxs(K,{direction:"horizontal",gap:"condensed",children:[r.jsx(ae,{type:"submit",variant:"primary",children:"Submit"}),r.jsx(ae,{type:"button",variant:"danger",onClick:()=>e(),children:"Reset"})]})]})})]})}const $r=Object.freeze(Object.defineProperty({__proto__:null,default:wd},Symbol.toStringTag,{value:"Module"})),jd=[{icon:At,label:"Code",url:"/"},{icon:st,label:"Issues",counter:10,url:"#issues",current:!0},{icon:Tt,label:"Pull Requests",counter:3,url:"/overview"},{icon:wr,label:"Discussions"},{icon:mn,label:"Actions"},{icon:Rt,label:"Projects",counter:7},{icon:ot,label:"Security",counter:12},{icon:et,label:"Insights"}],Sd=[{icon:st,label:"Open issues",url:""},{icon:_r,label:"Your issues",url:""},{icon:jr,label:"Assigned to you",url:"",current:!0},{icon:wo,label:"Mentioning you",url:""}];function Cd(){return r.jsx(ye,{title:"Primer",subtitle:"React",topnav:jd,sidenav:Sd,children:"This is the issues page"})}const Pr=Object.freeze(Object.defineProperty({__proto__:null,default:Cd},Symbol.toStringTag,{value:"Module"})),Ed="_title_1bvkv_1",kd="_card_1bvkv_4",Id="_cardText_1bvkv_12",qn={title:Ed,card:kd,cardText:Id},Ad=[{icon:Sr,label:"Overview",url:"/",current:!0},{icon:st,label:"Organizations",url:"#issues"},{icon:Tt,label:"People"},{icon:wr,label:"Policies"},{icon:mn,label:"GitHub Connect"},{icon:Rt,label:"Code Security",counter:7},{icon:ot,label:"Billing & Licensing",counter:12},{icon:et,label:"Settings"},{icon:et,label:"Compliance"}];function Td(){return r.jsxs(ye,{title:"Primer",subtitle:"React",topnav:Ad,children:[r.jsx(L,{as:"h1",className:qn.title,fontSize:"larger",children:"Overview"}),r.jsxs("div",{className:qn.card,children:[r.jsx(L,{as:"p",className:qn.cardText,fontSize:"medium",children:"This is a card in the overview"}),r.jsx(ae,{children:"Edit"})]})]})}const Mr=Object.freeze(Object.defineProperty({__proto__:null,default:Td},Symbol.toStringTag,{value:"Module"})),Rd="_content_qz2dt_1",Nd="_pageHeader_qz2dt_6",Ld="_pageTitle_qz2dt_13",Od="_filterBar_qz2dt_19",$d="_filterInput_qz2dt_26",Pd="_searchAction_qz2dt_30",Md="_listHeader_qz2dt_34",Dd="_repoCount_qz2dt_44",Bd="_listControls_qz2dt_49",zd="_sortButton_qz2dt_55",Hd="_viewToggle_qz2dt_59",Fd="_viewButton_qz2dt_66",Ud="_viewButtonActive_qz2dt_81",qd="_repoList_qz2dt_86",Wd="_repoItem_qz2dt_95",Vd="_repoInfo_qz2dt_107",Kd="_repoIcon_qz2dt_114",Gd="_repoName_qz2dt_119",Jd="_repoDescription_qz2dt_131",Yd="_repoMeta_qz2dt_139",Zd="_metaItem_qz2dt_148",Xd="_language_qz2dt_154",Qd="_languageDot_qz2dt_160",R={content:Rd,pageHeader:Nd,pageTitle:Ld,filterBar:Od,filterInput:$d,searchAction:Pd,listHeader:Md,repoCount:Dd,listControls:Bd,sortButton:zd,viewToggle:Hd,viewButton:Fd,viewButtonActive:Ud,repoList:qd,repoItem:Wd,repoInfo:Vd,repoIcon:Kd,repoName:Gd,repoDescription:Jd,repoMeta:Yd,metaItem:Zd,language:Xd,languageDot:Qd},eu={home:Sr,repo:bn,project:Rt,package:Eo,people:Co,person:jr,shield:ot,graph:et,gear:gn,"git-pull-request":Tt,eye:hc,lock:fc,code:At,"repo-forked":jo,archive:pc,"repo-template":uc};function Fs(e){return typeof e=="string"?eu[e]||bn:e}function tu(){const e=F("topnav"),t=Array.isArray(e)?e.map(a=>({...a,icon:Fs(a.icon)})):[],n=F("sidenav"),o=Array.isArray(n)?n.map(a=>({...a,icon:Fs(a.icon)})):[],s=F("repositories"),i=Array.isArray(s)?s:[];return r.jsx(ye,{title:"Banana Org",topnav:t,sidenav:o,children:r.jsxs("div",{className:R.content,children:[r.jsxs("header",{className:R.pageHeader,children:[r.jsx("h2",{className:R.pageTitle,children:"All"}),r.jsx(ae,{variant:"primary",children:"New repository"})]}),r.jsxs("div",{className:R.filterBar,children:[r.jsx(Yt,{leadingVisual:ic,placeholder:"Filter",value:"copilot",className:R.filterInput,trailingAction:r.jsx(Yt.Action,{icon:ac,"aria-label":"Clear filter"})}),r.jsx(Yt,{leadingVisual:cc,placeholder:"","aria-label":"Search repositories",className:R.searchAction})]}),r.jsxs("div",{className:R.listHeader,children:[r.jsx("span",{className:R.repoCount,children:r.jsxs("strong",{children:[i.length," repositories"]})}),r.jsxs("div",{className:R.listControls,children:[r.jsxs(Ke,{children:[r.jsx(Ke.Button,{size:"small",className:R.sortButton,children:"Last pushed"}),r.jsx(Ke.Overlay,{children:r.jsxs(Ie,{children:[r.jsx(Ie.Item,{children:"Last pushed"}),r.jsx(Ie.Item,{children:"Name"}),r.jsx(Ie.Item,{children:"Stars"})]})})]}),r.jsxs("div",{className:R.viewToggle,children:[r.jsx("button",{className:`${R.viewButton} ${R.viewButtonActive}`,"aria-label":"List view",children:r.jsx(lc,{size:16})}),r.jsx("button",{className:R.viewButton,"aria-label":"Grid view",children:r.jsx(dc,{size:16})})]})]})]}),r.jsx("ul",{className:R.repoList,children:i.map(a=>r.jsxs("li",{className:R.repoItem,children:[r.jsxs("div",{className:R.repoInfo,children:[r.jsx(bn,{size:16,className:R.repoIcon}),r.jsx("a",{href:a.url,className:R.repoName,children:a.name}),a.description&&r.jsx("span",{className:R.repoDescription,children:a.description})]}),r.jsxs("div",{className:R.repoMeta,children:[a.language&&r.jsxs("span",{className:R.language,children:[r.jsx("span",{className:R.languageDot}),a.language]}),r.jsx("span",{className:R.metaItem,children:r.jsx(gn,{size:16})}),r.jsxs("span",{className:R.metaItem,children:[r.jsx(jo,{size:16})," ",a.forks]}),r.jsxs("span",{className:R.metaItem,children:[r.jsx(So,{size:16})," ",a.stars]})]})]},a.name))})]})})}const Dr=Object.freeze(Object.defineProperty({__proto__:null,default:tu},Symbol.toStringTag,{value:"Module"})),nu="_pageWrapper_1x2wf_1",ru="_breadcrumb_1x2wf_7",su="_breadcrumbLink_1x2wf_15",ou="_breadcrumbSeparator_1x2wf_27",iu="_breadcrumbCurrent_1x2wf_31",au="_pageTitle_1x2wf_36",cu="_issueNumber_1x2wf_42",lu="_stateMeta_1x2wf_48",du="_metaText_1x2wf_56",uu="_contentLayout_1x2wf_66",pu="_mainContent_1x2wf_73",fu="_packageTable_1x2wf_78",hu="_packageColumn_1x2wf_88",mu="_packageLabel_1x2wf_94",gu="_packageValue_1x2wf_99",bu="_packageCode_1x2wf_107",xu="_copyIcon_1x2wf_112",vu="_advisoryBody_1x2wf_118",yu="_timeline_1x2wf_165",_u="_timelineItem_1x2wf_173",wu="_timelineBadge_1x2wf_179",ju="_openedIcon_1x2wf_185",Su="_closedIcon_1x2wf_189",Cu="_timelineText_1x2wf_193",Eu="_botLabel_1x2wf_205",ku="_sidebar_1x2wf_210",Iu="_sidebarSection_1x2wf_216",Au="_sidebarHeading_1x2wf_228",Tu="_severityScore_1x2wf_234",Ru="_criticalLabel_1x2wf_240",Nu="_scoreText_1x2wf_244",Lu="_metricsHeading_1x2wf_250",Ou="_metricsTable_1x2wf_257",$u="_metricLabel_1x2wf_274",Pu="_metricValue_1x2wf_278",Mu="_learnMore_1x2wf_284",Du="_cvssVector_1x2wf_294",Bu="_epssScore_1x2wf_301",zu="_tagList_1x2wf_308",Hu="_tag_1x2wf_308",Fu="_weaknessList_1x2wf_319",Uu="_weaknessItem_1x2wf_328",qu="_sidebarValue_1x2wf_334",Wu="_sidebarLink_1x2wf_340",Vu="_contributeText_1x2wf_353",Ku="_contributeLink_1x2wf_358",_={pageWrapper:nu,breadcrumb:ru,breadcrumbLink:su,breadcrumbSeparator:ou,breadcrumbCurrent:iu,pageTitle:au,issueNumber:cu,stateMeta:lu,metaText:du,contentLayout:uu,mainContent:pu,packageTable:fu,packageColumn:hu,packageLabel:mu,packageValue:gu,packageCode:bu,copyIcon:xu,advisoryBody:vu,timeline:yu,timelineItem:_u,timelineBadge:wu,openedIcon:ju,closedIcon:Su,timelineText:Cu,botLabel:Eu,sidebar:ku,sidebarSection:Iu,sidebarHeading:Au,severityScore:Tu,criticalLabel:Ru,scoreText:Nu,metricsHeading:Lu,metricsTable:Ou,metricLabel:$u,metricValue:Pu,learnMore:Mu,cvssVector:Du,epssScore:Bu,tagList:zu,tag:Hu,weaknessList:Fu,weaknessItem:Uu,sidebarValue:qu,sidebarLink:Wu,contributeText:Vu,contributeLink:Ku},Gu={code:At,"issue-opened":st,"git-pull-request":Tt,people:Co,play:mn,project:Rt,star:So,book:mc,shield:ot,graph:et,gear:gn};function Ju(){const e=F("topnav"),t=Array.isArray(e)?e.map(d=>({...d,icon:Gu[d.icon]||At})):[],n=F("advisory")||{},o=n.package||{},s=n.severity||{},i=Array.isArray(s.cvssMetrics)?s.cvssMetrics:[],a=Array.isArray(n.tags)?n.tags:[],c=Array.isArray(n.weaknesses)?n.weaknesses:[],l=Array.isArray(n.timeline)?n.timeline:[],u=n.epss||{};return r.jsx(ye,{title:"octodemo",subtitle:"test-se-fs-gitogether-repo",topnav:t,children:r.jsxs("div",{className:_.pageWrapper,children:[r.jsxs("nav",{className:_.breadcrumb,children:[r.jsxs("a",{href:"#",className:_.breadcrumbLink,children:[r.jsx(gc,{size:16}),r.jsx("span",{children:n.breadcrumb})]}),r.jsx("span",{className:_.breadcrumbSeparator,children:"/"}),r.jsxs("span",{className:_.breadcrumbCurrent,children:["#",n.id]})]}),r.jsxs("h1",{className:_.pageTitle,children:[n.title," ",r.jsxs("span",{className:_.issueNumber,children:["#",n.id]})]}),r.jsxs("div",{className:_.stateMeta,children:[r.jsxs(Ka,{status:"issueClosed",variant:"small",children:[r.jsx(Rs,{size:16})," Fixed"]}),r.jsxs("span",{className:_.metaText,children:["Opened ",n.openedAgo," on ",r.jsx("strong",{children:o.name})," (",o.ecosystem,") · · · Fixed ",n.fixedAgo]})]}),r.jsxs("div",{className:_.contentLayout,children:[r.jsxs("div",{className:_.mainContent,children:[r.jsxs("div",{className:_.packageTable,children:[r.jsxs("div",{className:_.packageColumn,children:[r.jsx("span",{className:_.packageLabel,children:"Package"}),r.jsxs("span",{className:_.packageValue,children:[r.jsx(Eo,{size:16})," ",o.name," (",o.ecosystem,")"]})]}),r.jsxs("div",{className:_.packageColumn,children:[r.jsx("span",{className:_.packageLabel,children:"Affected versions"}),r.jsx("code",{className:_.packageCode,children:o.affectedVersions})]}),r.jsxs("div",{className:_.packageColumn,children:[r.jsx("span",{className:_.packageLabel,children:"Patched version"}),r.jsxs("span",{className:_.packageValue,children:[r.jsx("strong",{children:o.patchedVersion})," ",r.jsx(bc,{size:16,className:_.copyIcon})]})]})]}),r.jsxs("article",{className:_.advisoryBody,children:[r.jsx("h2",{children:"Summary"}),r.jsx("p",{children:"Log4j versions prior to 2.16.0 are subject to a remote code execution vulnerability via the ldap JNDI parser."}),r.jsxs("p",{children:["As per ",r.jsx("a",{href:"#",children:"Apache's Log4j security guide"}),": Apache Log4j2 <=2.14.1 JNDI features used in configuration, log messages, and parameters do not protect against attacker controlled LDAP and other JNDI related endpoints. An attacker who can control log messages or log message parameters can execute arbitrary code loaded from LDAP servers when message lookup substitution is enabled. From log4j 2.16.0, this behavior has been disabled by default."]}),r.jsxs("p",{children:["Log4j version 2.15.0 contained an earlier fix for the vulnerability, but that patch did not disable attacker-controlled JNDI lookups in all situations. For more information, see the ",r.jsx("code",{children:"Updated advice for version 2.16.0"})," section of this advisory."]}),r.jsx("h2",{children:"Impact"}),r.jsx("p",{children:"Logging untrusted or user controlled data with a vulnerable version of Log4J may result in Remote Code Execution (RCE) against your application. This includes untrusted data included in logged errors such as exception traces, authentication failures, and other unexpected vectors of user controlled input."}),r.jsx("h2",{children:"Affected versions"}),r.jsx("p",{children:"Any Log4J version prior to v2.15.0 is affected to this specific issue."}),r.jsx("p",{children:"The v1 branch of Log4J which is considered End Of Life (EOL) is vulnerable to other RCE vectors so the recommendation is to still update to 2.16.0 where possible."}),r.jsx("h2",{children:"Security releases"}),r.jsx("p",{children:"Additional backports of this fix have been made available in versions 2.3.1, 2.12.2, and 2.12.3"}),r.jsx("h2",{children:"Affected packages"}),r.jsxs("p",{children:["Only the ",r.jsx("code",{children:"org.apache.logging.log4j:log4j-core"})," package is directly affected by this vulnerability. The ",r.jsx("code",{children:"org.apache.logging.log4j:log4j-api"})," should be kept at the same version as the ",r.jsx("code",{children:"org.apache.logging.log4j-core"})," package to ensure compatability if in use."]}),r.jsx("h2",{children:"Remediation Advice"}),r.jsx("h3",{children:"Updated advice for version 2.16.0"}),r.jsxs("p",{children:["The Apache Logging Services team provided updated mitigation advice upon the release of version 2.16.0, which ",r.jsx("a",{href:"#",children:"disables JNDI by default and completely removes support for message lookups"}),"."]}),r.jsxs("p",{children:["Even in version 2.15.0, lookups used in layouts to provide specific pieces of context information will still recursively resolve, possibly triggering JNDI lookups. This problem is being tracked as ",r.jsx("a",{href:"#",children:"CVE-2021-45046"}),". More information is available on the ",r.jsx("a",{href:"#",children:"GitHub Security Advisory for CVE-2021-45046"}),"."]}),r.jsxs("p",{children:["Users who want to avoid attacker-controlled JNDI lookups but cannot upgrade to 2.16.0 must ",r.jsx("a",{href:"#",children:"ensure that no such lookups resolve to attacker-provided data and ensure that the JndiLookup class is not loaded"}),"."]}),r.jsx("p",{children:"Please note that Log4J v1 is End Of Life (EOL) and will not receive patches for this issue. Log4J v1 is also vulnerable to other RCE vectors and we recommend you migrate to Log4J 2.16.0 where possible."})]}),r.jsx("div",{className:_.timeline,children:l.map((d,p)=>r.jsxs("div",{className:_.timelineItem,children:[r.jsx("div",{className:_.timelineBadge,children:d.action.includes("closed")?r.jsx(Rs,{size:16,className:_.closedIcon}):r.jsx(ot,{size:16,className:_.openedIcon})}),r.jsx(Ga,{src:d.actorAvatar,size:20,alt:d.actor}),r.jsxs("span",{className:_.timelineText,children:[r.jsx("strong",{children:d.actor}),d.isBot&&r.jsx(Zt,{size:"small",className:_.botLabel,children:"bot"})," ",d.action," ",d.timeAgo]})]},p))})]}),r.jsxs("aside",{className:_.sidebar,children:[r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h3",{className:_.sidebarHeading,children:"Severity"}),r.jsxs("div",{className:_.severityScore,children:[r.jsx(Zt,{variant:"danger",className:_.criticalLabel,children:s.level}),r.jsx("span",{className:_.scoreText,children:s.score})]})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h4",{className:_.metricsHeading,children:"CVSS v3 base metrics"}),r.jsx("table",{className:_.metricsTable,children:r.jsx("tbody",{children:i.map(d=>r.jsxs("tr",{children:[r.jsx("td",{className:_.metricLabel,children:d.label}),r.jsx("td",{className:_.metricValue,children:d.value})]},d.label))})}),r.jsx("a",{href:"#",className:_.learnMore,children:"Learn more about base metrics"}),r.jsx("p",{className:_.cvssVector,children:s.cvssVector})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h3",{className:_.sidebarHeading,children:"EPSS score"}),r.jsxs("p",{className:_.epssScore,children:[u.score," (",u.percentile,")"]})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h3",{className:_.sidebarHeading,children:"Tags"}),r.jsx("div",{className:_.tagList,children:a.map(d=>r.jsx(Zt,{className:_.tag,children:d},d))})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h3",{className:_.sidebarHeading,children:"Weaknesses"}),r.jsx("ul",{className:_.weaknessList,children:c.map(d=>r.jsxs("li",{className:_.weaknessItem,children:["▸ ",d]},d))})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h3",{className:_.sidebarHeading,children:"CVE ID"}),r.jsx("p",{className:_.sidebarValue,children:n.cveId})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("h3",{className:_.sidebarHeading,children:"GHSA ID"}),r.jsx("p",{className:_.sidebarValue,children:n.ghsaId})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsxs("a",{href:"#",className:_.sidebarLink,children:[r.jsx(xc,{size:16})," See advisory in GitHub Advisory Database"]}),r.jsxs("a",{href:"#",className:_.sidebarLink,children:[r.jsx(bn,{size:16})," See all of your affected repositories"]})]}),r.jsxs("div",{className:_.sidebarSection,children:[r.jsx("p",{className:_.contributeText,children:"See something to contribute?"}),r.jsx("a",{href:"#",className:_.contributeLink,children:"Suggest improvements for this advisory on the GitHub Advisory Database."})]})]})]})]})})}const Br=Object.freeze(Object.defineProperty({__proto__:null,default:Ju},Symbol.toStringTag,{value:"Module"})),Wn=["Account","Organization","Workspace","Review"];function me(e){return typeof e=="string"?e:""}function Us(e){return e===!0||e==="true"}function Ft({name:e,defaultValue:t,onCommit:n,...o}){const s=w.useRef(t);return r.jsx(Ue,{name:e,defaultValue:t,onChange:({value:i})=>{s.current=i},onBlur:()=>n(s.current),...o})}function Yu(){const e=yr(),[t,n]=E("signup.step"),o=Math.min(Math.max(parseInt(t,10)||0,0),Wn.length-1),s=k=>{const B=typeof k=="function"?k(o):k;n(String(B))},[i,a,c]=E("signup.errors.fullName"),[l,u,d]=E("signup.errors.email"),[p,f,b]=E("signup.errors.password"),[x,g,h]=E("signup.errors.orgName"),[y,j,S]=E("signup.errors.orgSize"),[I,$,H]=E("signup.errors.role"),[q,fe,re]=E("signup.errors.region"),[he,Se,_a]=E("signup.errors.plan"),[wa,ja,Sa]=E("signup.errors.agreeTerms"),A={fullName:i,email:l,password:p,orgName:x,orgSize:y,role:I,region:q,plan:he,agreeTerms:wa},Ca={fullName:a,email:u,password:f,orgName:g,orgSize:j,role:$,region:fe,plan:Se,agreeTerms:ja},Ea={fullName:c,email:d,password:b,orgName:h,orgSize:S,role:H,region:re,plan:_a,agreeTerms:Sa},ka=()=>Object.values(Ea).forEach(k=>k()),hs=k=>{ka(),Object.entries(k).forEach(([B,Ha])=>Ca[B]?.(Ha))},[ms,Ia]=E("signup.fullName"),[gs,Aa]=E("signup.email"),[bs,Ta]=E("signup.password"),[xs,Ra]=E("signup.organization.name"),[vs,Na]=E("signup.organization.size"),[ys,La]=E("signup.organization.role"),[_s,Oa]=E("signup.workspace.region"),[ws,$a]=E("signup.workspace.plan"),[js,Pa]=E("signup.workspace.newsletter"),[Ss,Ma]=E("signup.workspace.agreeTerms"),T=w.useMemo(()=>({fullName:me(ms),email:me(gs),password:me(bs),orgName:me(xs),orgSize:me(vs),role:me(ys),region:me(_s),plan:me(ws)||"starter",newsletter:Us(js),agreeTerms:Us(Ss)}),[ms,gs,bs,xs,vs,ys,_s,ws,js,Ss]);function Cs(k){const B={};return k===0&&(T.fullName.trim()||(B.fullName="Full name is required."),T.email.trim()||(B.email="Email is required."),T.password.trim()||(B.password="Password is required.")),k===1&&(T.orgName.trim()||(B.orgName="Organization name is required."),T.orgSize.trim()||(B.orgSize="Organization size is required."),T.role.trim()||(B.role="Role is required.")),k===2&&(T.region.trim()||(B.region="Region is required."),T.plan.trim()||(B.plan="Plan is required."),T.agreeTerms||(B.agreeTerms="You must accept terms to continue.")),hs(B),Object.keys(B).length===0}function Da(){Cs(o)&&s(k=>Math.min(k+1,Wn.length-1))}function Ba(){hs({}),s(k=>Math.max(k-1,0))}function za(){if(!Cs(2)){s(2);return}e("/Dashboard")}return r.jsx(wt,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:6,align:"center",justify:"center",children:r.jsxs(m,{maxWidth:"560px",width:"100%",direction:"column",gap:6,children:[r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(v,{variant:"featured-1",weight:"bold",children:"Create your cloud account"}),r.jsx(v,{variant:"body-2",color:"neutral-faded",children:"Complete the onboarding flow to configure your account and organization."})]}),r.jsx(Is,{activeId:String(o),children:Wn.map((k,B)=>r.jsx(Is.Item,{id:String(B),title:k,completed:B<o,subtitle:`Step ${B+1}`},k))}),r.jsx(ve,{padding:6,children:r.jsxs(m,{direction:"column",gap:5,children:[o===0&&r.jsxs(r.Fragment,{children:[r.jsxs(C,{hasError:!!A.fullName,children:[r.jsx(C.Label,{children:"Full name"}),r.jsx(Ft,{name:"fullName",defaultValue:T.fullName,placeholder:"Jane Doe",onCommit:Ia}),A.fullName&&r.jsx(C.Error,{children:A.fullName})]}),r.jsxs(C,{hasError:!!A.email,children:[r.jsx(C.Label,{children:"Email"}),r.jsx(Ft,{name:"email",defaultValue:T.email,placeholder:"jane@acme.cloud",onCommit:Aa}),A.email&&r.jsx(C.Error,{children:A.email})]}),r.jsxs(C,{hasError:!!A.password,children:[r.jsx(C.Label,{children:"Password"}),r.jsx(Ft,{name:"password",defaultValue:T.password,onCommit:Ta,inputAttributes:{type:"password"}}),A.password&&r.jsx(C.Error,{children:A.password})]})]}),o===1&&r.jsxs(r.Fragment,{children:[r.jsxs(C,{hasError:!!A.orgName,children:[r.jsx(C.Label,{children:"Organization name"}),r.jsx(Ft,{name:"orgName",defaultValue:T.orgName,placeholder:"Acme Cloud",onCommit:Ra}),A.orgName&&r.jsx(C.Error,{children:A.orgName})]}),r.jsxs(C,{hasError:!!A.orgSize,children:[r.jsx(C.Label,{children:"Organization size"}),r.jsxs(We,{name:"orgSize",value:T.orgSize,placeholder:"Select size",onChange:({value:k})=>Na(k),children:[r.jsx("option",{value:"1-10",children:"1–10 employees"}),r.jsx("option",{value:"11-50",children:"11–50 employees"}),r.jsx("option",{value:"51-250",children:"51–250 employees"}),r.jsx("option",{value:"251+",children:"251+ employees"})]}),A.orgSize&&r.jsx(C.Error,{children:A.orgSize})]}),r.jsxs(C,{hasError:!!A.role,children:[r.jsx(C.Label,{children:"Your role"}),r.jsxs(We,{name:"role",value:T.role,placeholder:"Select role",onChange:({value:k})=>La(k),children:[r.jsx("option",{value:"founder",children:"Founder"}),r.jsx("option",{value:"engineering-manager",children:"Engineering Manager"}),r.jsx("option",{value:"developer",children:"Developer"}),r.jsx("option",{value:"platform-admin",children:"Platform Admin"})]}),A.role&&r.jsx(C.Error,{children:A.role})]})]}),o===2&&r.jsxs(r.Fragment,{children:[r.jsxs(C,{hasError:!!A.region,children:[r.jsx(C.Label,{children:"Primary region"}),r.jsxs(We,{name:"region",value:T.region,placeholder:"Select region",onChange:({value:k})=>Oa(k),children:[r.jsx("option",{value:"us-east-1",children:"US East"}),r.jsx("option",{value:"us-west-2",children:"US West"}),r.jsx("option",{value:"eu-west-1",children:"EU West"}),r.jsx("option",{value:"ap-southeast-1",children:"AP Southeast"})]}),A.region&&r.jsx(C.Error,{children:A.region})]}),r.jsxs(C,{hasError:!!A.plan,children:[r.jsx(C.Label,{children:"Starting plan"}),r.jsxs(We,{name:"plan",value:T.plan,onChange:({value:k})=>$a(k),children:[r.jsx("option",{value:"starter",children:"Starter"}),r.jsx("option",{value:"growth",children:"Growth"}),r.jsx("option",{value:"enterprise",children:"Enterprise"})]}),A.plan&&r.jsx(C.Error,{children:A.plan})]}),r.jsx(Yn,{name:"newsletter",checked:T.newsletter,onChange:({checked:k})=>Pa(k?"true":"false"),children:"Email me product updates and onboarding tips"}),r.jsxs(C,{hasError:!!A.agreeTerms,children:[r.jsx(Yn,{name:"agreeTerms",checked:T.agreeTerms,onChange:({checked:k})=>Ma(k?"true":"false"),children:"I agree to the Terms of Service and Privacy Policy"}),A.agreeTerms&&r.jsx(C.Error,{children:A.agreeTerms})]})]}),o===3&&r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(v,{variant:"featured-3",weight:"bold",children:"Review your configuration"}),r.jsxs(m,{direction:"column",gap:3,children:[r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Name"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.fullName})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Email"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.email})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Organization"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.orgName})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Team size"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.orgSize})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Role"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.role})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Region"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.region})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Plan"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.plan})})]}),r.jsxs(m,{direction:"row",align:"center",children:[r.jsx(m.Item,{columns:4,children:r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Newsletter"})}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-2",children:T.newsletter?"Yes":"No"})})]})]})]}),r.jsxs(m,{direction:"row",justify:"end",gap:3,children:[o>0&&r.jsx(de,{variant:"ghost",onClick:Ba,children:"Back"}),o<3&&r.jsx(de,{color:"primary",onClick:Da,children:"Continue"}),o===3&&r.jsx(de,{color:"primary",onClick:za,children:"Create account"})]})]})})]})})})}const zr=Object.freeze(Object.defineProperty({__proto__:null,default:Yu},Symbol.toStringTag,{value:"Module"})),Zu=Object.assign({"/src/pages/Dashboard.jsx":()=>M(()=>Promise.resolve().then(()=>Lr),void 0),"/src/pages/Example.jsx":()=>M(()=>Promise.resolve().then(()=>Or),void 0),"/src/pages/Forms.jsx":()=>M(()=>Promise.resolve().then(()=>$r),void 0),"/src/pages/Issues.jsx":()=>M(()=>Promise.resolve().then(()=>Pr),void 0),"/src/pages/Overview.jsx":()=>M(()=>Promise.resolve().then(()=>Mr),void 0),"/src/pages/Repositories.jsx":()=>M(()=>Promise.resolve().then(()=>Dr),void 0),"/src/pages/SecurityAdvisory.jsx":()=>M(()=>Promise.resolve().then(()=>Br),void 0),"/src/pages/Signup.jsx":()=>M(()=>Promise.resolve().then(()=>zr),void 0),"/src/pages/_app.jsx":()=>M(()=>Promise.resolve().then(()=>Nr),void 0),"/src/pages/viewfinder.jsx":()=>M(()=>Promise.resolve().then(()=>Yo),void 0)});function Xu(){return r.jsx(Ho,{title:"Storyboard",scenes:Rr,pageModules:Zu,basePath:"/storyboard-source/"})}const Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Xu},Symbol.toStringTag,{value:"Module"})),Ko={todo:"Todo",in_progress:"In Progress",done:"Done",cancelled:"Cancelled"},Go={urgent:"Urgent",high:"High",medium:"Medium",low:"Low"},Qu=Object.entries(Ko),ep=Object.entries(Go);function Jo({prefix:e}){const[t,n]=E(`${e}.title`),[o,s]=E(`${e}.description`),[i,a]=E(`${e}.status`),[c,l]=E(`${e}.priority`),[u,d]=E(`${e}.assignee`),[p,f]=E(`${e}.project`),[b,x]=E(`${e}.estimate`);return r.jsxs(m,{direction:"column",gap:4,children:[r.jsxs(C,{children:[r.jsx(C.Label,{children:"Title"}),r.jsx(Ue,{name:"title",value:t??"",onChange:({value:g})=>n(g)})]}),r.jsxs(C,{children:[r.jsx(C.Label,{children:"Description"}),r.jsx(Ue,{name:"description",multiline:!0,value:o??"",onChange:({value:g})=>s(g),inputAttributes:{rows:3}})]}),r.jsxs(m,{direction:"row",gap:4,children:[r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Status"}),r.jsx(We,{name:"status",value:i??"todo",onChange:({value:g})=>a(g),children:Qu.map(([g,h])=>r.jsx("option",{value:g,children:h},g))})]})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Priority"}),r.jsx(We,{name:"priority",value:c??"medium",onChange:({value:g})=>l(g),children:ep.map(([g,h])=>r.jsx("option",{value:g,children:h},g))})]})})]}),r.jsxs(m,{direction:"row",gap:4,children:[r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Assignee"}),r.jsx(Ue,{name:"assignee",placeholder:"Username",value:u??"",onChange:({value:g})=>d(g)})]})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(C,{children:[r.jsx(C.Label,{children:"Project"}),r.jsx(Ue,{name:"project",placeholder:"Project name",value:p??"",onChange:({value:g})=>f(g)})]})})]}),r.jsxs(C,{children:[r.jsx(C.Label,{children:"Estimate (points)"}),r.jsx(Ue,{name:"estimate",placeholder:"e.g. 5",value:b??"",onChange:({value:g})=>x(g)})]})]})}const tp={Auth:"neutral",Backend:"critical",Feature:"primary",Bug:"critical",Security:"warning",Frontend:"primary",DevEx:"positive"},Ut=["title","description","status","priority","assignee","project","estimate"];function np({issue:e,active:t,onClose:n}){const o={title:Ce("issues",e.id,"title"),description:Ce("issues",e.id,"description"),status:Ce("issues",e.id,"status"),priority:Ce("issues",e.id,"priority"),assignee:Ce("issues",e.id,"assignee"),project:Ce("issues",e.id,"project"),estimate:Ce("issues",e.id,"estimate")},s=()=>{Ut.forEach(c=>{Re(`draft.edit.${c}`,e[c]??"")})},i=()=>{const c=new URLSearchParams(window.location.hash.replace(/^#/,""));Ut.forEach(l=>{const[,u]=o[l];u(c.get(`draft.edit.${l}`)??"")}),Ut.forEach(l=>nn(`draft.edit.${l}`)),n({reason:"save"})},a=()=>{Ut.forEach(c=>nn(`draft.edit.${c}`)),n({reason:"cancel"})};return r.jsxs(Ge,{active:t,onClose:a,onOpen:s,size:"600px",padding:6,position:"center",children:[r.jsx(Ge.Title,{children:"Edit Issue"}),r.jsx(Ge.Subtitle,{children:e.identifier}),r.jsxs(m,{direction:"column",gap:4,paddingTop:4,children:[r.jsx(Jo,{prefix:"draft.edit"}),r.jsxs(m,{direction:"row",justify:"end",gap:2,paddingTop:2,children:[r.jsx(de,{variant:"outline",onClick:a,children:"Cancel"}),r.jsx(de,{color:"primary",onClick:i,children:"Save"})]})]})]})}function rp(){const[e,t,n]=E("ui.editModal"),o=e==="true",s=Bo("issues","id"),i=F("signup.organization.name"),a=F("signup.fullName"),c=F("signup.organization.role");return s?r.jsx(wt,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(cn,{orgName:i,activePage:"Issues",userInfo:{name:a,role:c}})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"row",gap:8,align:"start",children:[r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,maxWidth:"720px",children:[r.jsxs(m,{direction:"row",gap:2,align:"center",justify:"space-between",children:[r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsx(Qe,{to:"/issues",style:{textDecoration:"none"},children:r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:i||"Workspace"})}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"›"}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:s.identifier})]}),r.jsx(de,{variant:"outline",size:"small",onClick:()=>t("true"),children:"Edit issue"})]}),r.jsx(np,{issue:s,active:o,onClose:()=>n()}),r.jsx(v,{variant:"featured-1",weight:"bold",children:s.title}),s.description&&r.jsx(v,{variant:"body-2",color:"neutral-faded",children:s.description}),s.acceptanceCriteria?.length>0&&r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(v,{variant:"body-2",weight:"bold",children:"Acceptance Criteria"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:s.acceptanceCriteria.map((l,u)=>r.jsx("li",{style:{marginBottom:"0.5rem"},children:r.jsx(v,{variant:"body-3",children:l})},u))})]}),s.technicalNotes?.length>0&&r.jsxs(m,{direction:"column",gap:2,children:[r.jsx(v,{variant:"body-2",weight:"bold",children:"Technical Notes"}),r.jsx("ul",{style:{margin:0,paddingLeft:"1.5rem"},children:s.technicalNotes.map((l,u)=>r.jsx("li",{style:{marginBottom:"0.5rem"},children:r.jsx(v,{variant:"body-3",children:l})},u))})]}),r.jsx(le,{}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"+ Add sub-issues"}),r.jsx(le,{}),r.jsxs(m,{direction:"column",gap:3,children:[r.jsx(v,{variant:"body-2",weight:"bold",children:"Activity"}),(s.activity||[]).map((l,u)=>r.jsxs(m,{direction:"row",gap:3,align:"center",children:[r.jsx(As,{src:l.avatar,initials:l.user?.[0]?.toUpperCase(),size:6}),r.jsxs(m,{direction:"column",children:[r.jsxs(v,{variant:"body-3",children:[r.jsx(v,{weight:"medium",children:l.user}),l.type==="created"&&" created the issue",l.type==="comment"&&":"]}),l.body&&r.jsx(v,{variant:"body-3",color:"neutral-faded",children:l.body}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:l.time})]})]},u))]})]})}),r.jsx(m.Item,{columns:3,children:r.jsx(ve,{padding:4,children:r.jsxs(m,{direction:"column",gap:4,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:"Properties"}),r.jsx(le,{}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Status"}),r.jsx(v,{variant:"body-3",children:Ko[s.status]||s.status})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Priority"}),r.jsx(v,{variant:"body-3",children:Go[s.priority]||s.priority})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Assignee"}),s.assignee?r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsx(As,{src:s.assigneeAvatar,initials:s.assignee?.[0]?.toUpperCase(),size:5}),r.jsx(v,{variant:"body-3",children:s.assignee})]}):r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"Assign"})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Labels"}),r.jsx(m,{direction:"row",gap:1,wrap:!0,children:(s.labels||[]).map(l=>r.jsx(jt,{size:"small",color:tp[l]||"neutral",children:l},l))})]}),r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Project"}),r.jsx(v,{variant:"body-3",color:s.project?void 0:"neutral-faded",children:s.project||"Add to project"})]}),s.estimate&&r.jsxs(m,{direction:"column",gap:1,children:[r.jsx(v,{variant:"caption-1",color:"neutral-faded",children:"Estimate"}),r.jsxs(v,{variant:"body-3",children:[s.estimate," points"]})]})]})})})]})})]})})}):r.jsx(wt,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(cn,{orgName:i,activePage:"Issues",userInfo:{name:a,role:c}})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,align:"center",paddingBlock:16,children:[r.jsx(v,{variant:"featured-2",weight:"bold",children:"Issue not found"}),r.jsx(v,{variant:"body-3",color:"neutral-faded",children:"The issue you're looking for doesn't exist."}),r.jsx(Qe,{to:"/issues",children:"← Back to all issues"})]})})]})})})}const sp=Object.freeze(Object.defineProperty({__proto__:null,default:rp},Symbol.toStringTag,{value:"Module"})),op="_issueRow_1cpdh_1",ip={issueRow:op},ap={todo:"○",in_progress:"◐",done:"●",cancelled:"✕"},cp={Auth:"neutral",Backend:"critical",Feature:"primary",Bug:"critical",Security:"warning",Frontend:"primary",DevEx:"positive"},lp={title:"",description:"",status:"todo",priority:"medium",assignee:"",project:"",estimate:""},tr=["title","description","status","priority","assignee","project","estimate"];function qs(e){tr.forEach(t=>nn(`${e}.${t}`))}function dp({active:e,onClose:t,issueCount:n}){const[o]=E("draft.create.title"),s=yr(),i=`FIL-${n+1}`,a=()=>{tr.forEach(u=>{Re(`draft.create.${u}`,lp[u])})},c=()=>{if(!(o??"").trim())return;const u=o.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")||`new-issue-${n+1}`;tr.forEach(d=>{const p=new URLSearchParams(window.location.hash.replace(/^#/,"")).get(`draft.create.${d}`)??"";Re(`record.issues.${u}.${d}`,p)}),Re(`record.issues.${u}.identifier`,i),qs("draft.create"),t({reason:"save"}),s(`/issues/${u}`)},l=()=>{qs("draft.create"),t({reason:"cancel"})};return r.jsxs(Ge,{active:e,onClose:l,onOpen:a,size:"600px",padding:6,position:"center",children:[r.jsx(Ge.Title,{children:"Create Issue"}),r.jsx(Ge.Subtitle,{children:i}),r.jsxs(m,{direction:"column",gap:4,paddingTop:4,children:[r.jsx(Jo,{prefix:"draft.create"}),r.jsxs(m,{direction:"row",justify:"end",gap:2,paddingTop:2,children:[r.jsx(de,{variant:"outline",onClick:l,children:"Cancel"}),r.jsx(de,{color:"primary",onClick:c,children:"Save"})]})]})]})}function up(){const[e,t,n]=E("ui.createModal"),o=e==="true",s=zo("issues"),i=F("signup.organization.name"),a=F("signup.fullName"),c=F("signup.organization.role"),l=s.filter(d=>d.status!=="done"&&d.status!=="cancelled"),u=s.filter(d=>d.status==="done"||d.status==="cancelled");return r.jsx(wt,{defaultTheme:"reshaped",defaultColorMode:"dark",children:r.jsx(m,{backgroundColor:"page",minHeight:"100vh",padding:12,children:r.jsxs(m,{direction:"row",align:"start",gap:8,wrap:"no-wrap",children:[r.jsx(m.Item,{columns:2,children:r.jsx(cn,{orgName:i,activePage:"Issues",userInfo:{name:a,role:c}})}),r.jsx(m.Item,{grow:!0,children:r.jsxs(m,{direction:"column",gap:4,maxWidth:"900px",children:[r.jsxs(m,{direction:"row",justify:"space-between",align:"center",children:[r.jsx(v,{variant:"featured-2",weight:"bold",children:"Issues"}),r.jsxs(m,{direction:"row",gap:2,align:"center",children:[r.jsxs(jt,{color:"neutral",children:[s.length," total"]}),r.jsx(de,{size:"small",color:"primary",onClick:()=>t("true"),children:"Create issue"})]})]}),r.jsx(dp,{active:o,onClose:()=>n(),issueCount:s.length}),r.jsxs(m,{direction:"column",gap:0,children:[r.jsx(m,{paddingBlock:2,paddingInline:3,children:r.jsxs(v,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:["Open · ",l.length]})}),r.jsx(le,{}),l.map(d=>r.jsx(Ws,{issue:d},d.id))]}),u.length>0&&r.jsxs(m,{direction:"column",gap:0,children:[r.jsx(m,{paddingBlock:2,paddingInline:3,children:r.jsxs(v,{variant:"caption-1",color:"neutral-faded",weight:"medium",children:["Closed · ",u.length]})}),r.jsx(le,{}),u.map(d=>r.jsx(Ws,{issue:d},d.id))]})]})})]})})})}function Ws({issue:e}){return r.jsxs(r.Fragment,{children:[r.jsx(Qe,{to:`/issues/${e.id}`,className:ip.issueRow,children:r.jsxs(m,{direction:"row",align:"center",gap:3,padding:3,children:[r.jsx(v,{variant:"body-3",color:"neutral-faded",attributes:{style:{minWidth:20}},children:ap[e.status]||"○"}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",attributes:{style:{minWidth:50}},children:e.identifier}),r.jsx(m.Item,{grow:!0,children:r.jsx(v,{variant:"body-3",children:e.title})}),r.jsx(m,{direction:"row",gap:1,children:(e.labels||[]).map(t=>r.jsx(jt,{size:"small",color:cp[t]||"neutral",children:t},t))}),r.jsx(v,{variant:"caption-1",color:"neutral-faded",attributes:{style:{textTransform:"capitalize"}},children:e.priority})]})}),r.jsx(le,{})]})}const pp=Object.freeze(Object.defineProperty({__proto__:null,default:up},Symbol.toStringTag,{value:"Module"}));function fp(){const e=Bo("posts","id");return e?r.jsx(ye,{title:"Blog",subtitle:e.title,children:r.jsxs("article",{style:{maxWidth:"720px",padding:"2rem"},children:[r.jsxs("header",{children:[r.jsx(L,{as:"h1",sx:{fontSize:4,mb:2},children:e.title}),r.jsxs(L,{as:"p",color:"fg.muted",sx:{mb:3},children:[e.author," · ",e.date]}),e.summary&&r.jsx(Zt,{variant:"accent",sx:{mb:3},children:e.summary})]}),r.jsx(L,{as:"div",sx:{mt:3,lineHeight:1.6},children:(e.body||"").split(`

`).map((t,n)=>r.jsx("p",{children:t},n))}),r.jsx("footer",{style:{marginTop:"2rem",borderTop:"1px solid var(--borderColor-muted)",paddingTop:"1rem"},children:r.jsx(Qe,{to:"/posts",children:"← Back to all posts"})})]})}):r.jsx(ye,{title:"Blog",subtitle:"Post",children:r.jsxs("section",{style:{padding:"2rem"},children:[r.jsx(L,{as:"h1",children:"Post not found"}),r.jsx(L,{as:"p",color:"fg.muted",children:"The post you're looking for doesn't exist."}),r.jsx(Qe,{to:"/posts",children:"← Back to all posts"})]})})}const hp=Object.freeze(Object.defineProperty({__proto__:null,default:fp},Symbol.toStringTag,{value:"Module"}));function mp(){const e=zo("posts");return r.jsx(ye,{title:"Blog",subtitle:"All Posts",children:r.jsxs("section",{style:{maxWidth:"720px",padding:"2rem"},children:[r.jsx(L,{as:"h1",sx:{fontSize:4,mb:3},children:"Blog"}),e.map(t=>r.jsxs("article",{style:{marginBottom:"1.5rem",paddingBottom:"1.5rem",borderBottom:"1px solid var(--borderColor-muted)"},children:[r.jsx(Qe,{to:`/posts/${t.id}`,style:{textDecoration:"none"},children:r.jsx(L,{as:"h2",sx:{fontSize:2,color:"accent.fg"},children:t.title})}),r.jsxs(L,{as:"p",color:"fg.muted",sx:{fontSize:1,mt:1},children:[t.author," · ",t.date]}),t.summary&&r.jsx(L,{as:"p",sx:{mt:1},children:t.summary})]},t.id))]})})}const gp=Object.freeze(Object.defineProperty({__proto__:null,default:mp},Symbol.toStringTag,{value:"Module"})),bp=Object.assign({"/src/pages/Dashboard.jsx":()=>M(()=>Promise.resolve().then(()=>Lr),void 0),"/src/pages/Example.jsx":()=>M(()=>Promise.resolve().then(()=>Or),void 0),"/src/pages/Forms.jsx":()=>M(()=>Promise.resolve().then(()=>$r),void 0),"/src/pages/Issues.jsx":()=>M(()=>Promise.resolve().then(()=>Pr),void 0),"/src/pages/Overview.jsx":()=>M(()=>Promise.resolve().then(()=>Mr),void 0),"/src/pages/Repositories.jsx":()=>M(()=>Promise.resolve().then(()=>Dr),void 0),"/src/pages/SecurityAdvisory.jsx":()=>M(()=>Promise.resolve().then(()=>Br),void 0),"/src/pages/Signup.jsx":()=>M(()=>Promise.resolve().then(()=>zr),void 0),"/src/pages/_app.jsx":()=>M(()=>Promise.resolve().then(()=>Nr),void 0),"/src/pages/index.jsx":()=>M(()=>Promise.resolve().then(()=>Vo),void 0)});function xp(){return r.jsx(Ho,{title:"Storyboard",scenes:Rr,pageModules:bp,basePath:"/storyboard-source/"})}const Yo=Object.freeze(Object.defineProperty({__proto__:null,default:xp},Symbol.toStringTag,{value:"Module"}));var be={route:[/^.*\/src\/pages\/|\.(jsx|tsx|mdx)$/g,""],splat:[/\[\.{3}\w+\]/g,"*"],param:[/\[([^\]]+)\]/g,":$1"],slash:[/^index$|\./g,"/"],optional:[/^-(:?[\w-]+|\*)/,"$1?"]},vp=e=>Object.keys(e).reduce((t,n)=>{const o=n.replace(...be.route);return{...t,[o]:e[n]}},{}),yp=(e,t)=>Object.keys(e).filter(o=>!o.includes("/_")||/_layout\.(jsx|tsx)$/.test(o)).reduce((o,s)=>{const i=e[s],a={id:s.replace(...be.route),...t(i,s)},c=s.replace(...be.route).replace(...be.splat).replace(...be.param).split("/").filter(Boolean);return c.reduce((l,u,d)=>{const p=u.replace(...be.slash).replace(...be.optional),f=d===0,b=d===c.length-1&&c.length>1,x=!f&&!b,g=u==="_layout",h=/\([\w-]+\)/.test(p),y=/^\w|\//.test(p)?"unshift":"push";if(f&&c.length===1)return o.push({path:p,...a}),l;if(f||x){const j=f?o:l.children,S=j?.find($=>$.path===p||$.id?.replace("/_layout","").split("/").pop()===p),I=h?a?.component?{id:p,path:"/"}:{id:p}:{path:p};return S?S.children??=[]:j?.[y]({...I,children:[]}),S||j?.[y==="unshift"?0:j.length-1]}return g?Object.assign(l,a):(b&&l?.children?.[y](a?.index?a:{path:p,...a}),l)},{}),o},[]),_p=e=>Object.keys(e).reduce((t,n)=>{const o=n.replace(...be.route).replace(/\+|\([\w-]+\)\//g,"").replace(/(\/)?index/g,"").replace(/\./g,"/");return{...t,[`/${o}`]:e[n]?.default}},{}),wp=Object.assign({"/src/pages/_app.jsx":Nr}),jp=Object.assign({}),Sp=Object.assign({"/src/pages/Dashboard.jsx":Lr,"/src/pages/Example.jsx":Or,"/src/pages/Forms.jsx":$r,"/src/pages/Issues.jsx":Pr,"/src/pages/Overview.jsx":Mr,"/src/pages/Repositories.jsx":Dr,"/src/pages/SecurityAdvisory.jsx":Br,"/src/pages/Signup.jsx":zr,"/src/pages/index.jsx":Vo,"/src/pages/issues/[id].jsx":sp,"/src/pages/issues/index.jsx":pp,"/src/pages/posts/[id].jsx":hp,"/src/pages/posts/index.jsx":gp,"/src/pages/viewfinder.jsx":Yo}),Zo=vp(wp),Cp=_p(jp),Ep=yp(Sp,(e,t)=>{const n=/index\.(jsx|tsx|mdx)$/.test(t)&&!t.includes("pages/index")?{index:!0}:{},o=e?.default||w.Fragment;return{...n,Component:()=>e?.Pending?r.jsx(w.Suspense,{fallback:r.jsx(e.Pending,{}),children:r.jsx(o,{})}):r.jsx(o,{}),ErrorBoundary:e?.Catch,loader:e?.Loader,action:e?.Action}}),Ze=Zo?._app,kp=Zo?.["404"],Ip=Ze?.default||yo,Ap=()=>{const e=Cp[xo().state?.modal]||w.Fragment;return r.jsx(e,{})},nr=()=>r.jsxs(r.Fragment,{children:[r.jsx(Ip,{})," ",r.jsx(Ap,{})]}),Tp=()=>Ze?.Pending?r.jsx(w.Suspense,{fallback:r.jsx(Ze.Pending,{}),children:r.jsx(nr,{})}):r.jsx(nr,{}),Rp={Component:Ze?.default?Tp:nr,ErrorBoundary:Ze?.Catch,loader:Ze?.Loader},Np={path:"*",Component:kp?.default||w.Fragment},Lp=[{...Rp,children:[...Ep,Np]}];const Hr="sb-comments-token",Fr="sb-comments-user";function Xo(){try{return localStorage.getItem(Hr)}catch{return null}}function Op(e){localStorage.setItem(Hr,e)}function $p(){localStorage.removeItem(Hr),localStorage.removeItem(Fr)}function Ur(){try{const e=localStorage.getItem(Fr);return e?JSON.parse(e):null}catch{return null}}async function Pp(e){const t=await fetch("https://api.github.com/user",{headers:{Authorization:`bearer ${e}`}});if(!t.ok)throw new Error("Invalid token — GitHub returned "+t.status);const n=await t.json(),o={login:n.login,avatarUrl:n.avatar_url};return localStorage.setItem(Fr,JSON.stringify(o)),o}function ln(){return Xo()!==null}let Ae=!1;const rr=new Set;function Xt(){return Ae}function Mp(){return an()?!Ae&&!ln()?(console.warn("[storyboard] Sign in first to use comments"),!1):(Ae=!Ae,Qo(),Ae):(console.warn("[storyboard] Comments not enabled — check storyboard.config.json"),!1)}function Vs(e){Ae=e,Qo()}function Dp(e){return rr.add(e),()=>rr.delete(e)}function Qo(){for(const e of rr)e(Ae)}const Ks=/<!--\s*sb-meta\s+(\{.*?\})\s*-->/;function ue(e){if(!e)return{meta:null,text:""};const t=e.match(Ks);if(!t)return{meta:null,text:e.trim()};try{const n=JSON.parse(t[1]),o=e.replace(Ks,"").trim();return{meta:n,text:o}}catch{return{meta:null,text:e.trim()}}}function tt(e,t){return`${`<!-- sb-meta ${JSON.stringify(e)} -->`}
${t}`}function Bp(e,t){const{meta:n,text:o}=ue(e),s={...n,...t};return tt(s,o)}const zp="https://api.github.com/graphql";async function U(e,t={},n={}){const{retries:o=2}=n,s=Xo();if(!s)throw new Error("Not authenticated — no GitHub PAT found. Please sign in.");let i;for(let a=0;a<=o;a++)try{const c=await fetch(zp,{method:"POST",headers:{Authorization:`bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify({query:e,variables:t})});if(c.status===401)throw new Error("GitHub PAT is invalid or expired. Please sign in again.");if(!c.ok)throw new Error(`GitHub API error: ${c.status} ${c.statusText}`);const l=await c.json();if(l.errors?.length)throw new Error(`GraphQL error: ${l.errors.map(u=>u.message).join(", ")}`);return l.data}catch(c){if(i=c,c.message.includes("401")||c.message.includes("Not authenticated")||c.message.includes("invalid or expired"))throw c;a<o&&await new Promise(l=>setTimeout(l,1e3*(a+1)))}throw i}const Hp=`
  query SearchDiscussion($query: String!) {
    search(query: $query, type: DISCUSSION, first: 1) {
      nodes {
        ... on Discussion {
          id
          title
          body
          url
          comments(first: 100) {
            nodes {
              id
              body
              createdAt
              author {
                login
                avatarUrl
              }
              replies(first: 50) {
                nodes {
                  id
                  body
                  createdAt
                  author {
                    login
                    avatarUrl
                  }
                  reactionGroups {
                    content
                    users(first: 0) { totalCount }
                    viewerHasReacted
                  }
                }
              }
              reactionGroups {
                content
                users(first: 0) { totalCount }
                viewerHasReacted
              }
            }
          }
        }
      }
    }
  }
`,Fp=`
  query SearchDiscussionLightweight($query: String!) {
    search(query: $query, type: DISCUSSION, first: 1) {
      nodes {
        ... on Discussion {
          id
          title
          url
          comments(first: 100) {
            nodes {
              id
              body
              author {
                login
                avatarUrl
              }
            }
          }
        }
      }
    }
  }
`,Up=`
  query GetCommentDetail($id: ID!) {
    node(id: $id) {
      ... on DiscussionComment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
        replies(first: 50) {
          nodes {
            id
            body
            createdAt
            author {
              login
              avatarUrl
            }
            reactionGroups {
              content
              users(first: 0) { totalCount }
              viewerHasReacted
            }
          }
        }
        reactionGroups {
          content
          users(first: 0) { totalCount }
          viewerHasReacted
        }
      }
    }
  }
`,qp=`
  query GetCategoryId($owner: String!, $name: String!, $slug: String!) {
    repository(owner: $owner, name: $name) {
      id
      discussionCategory(slug: $slug) {
        id
      }
      discussionCategories(first: 25) {
        nodes {
          id
          name
          slug
        }
      }
    }
  }
`,Wp=`
  mutation CreateDiscussion($repositoryId: ID!, $categoryId: ID!, $title: String!, $body: String!) {
    createDiscussion(input: { repositoryId: $repositoryId, categoryId: $categoryId, title: $title, body: $body }) {
      discussion {
        id
        title
        url
      }
    }
  }
`,Vp=`
  mutation AddComment($discussionId: ID!, $body: String!) {
    addDiscussionComment(input: { discussionId: $discussionId, body: $body }) {
      comment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
      }
    }
  }
`,Kp=`
  mutation AddReply($discussionId: ID!, $replyToId: ID!, $body: String!) {
    addDiscussionComment(input: { discussionId: $discussionId, body: $body, replyToId: $replyToId }) {
      comment {
        id
        body
        createdAt
        author {
          login
          avatarUrl
        }
      }
    }
  }
`,Mt=`
  mutation UpdateComment($commentId: ID!, $body: String!) {
    updateDiscussionComment(input: { commentId: $commentId, body: $body }) {
      comment {
        id
        body
      }
    }
  }
`,Gp=`
  mutation DeleteComment($commentId: ID!) {
    deleteDiscussionComment(input: { id: $commentId }) {
      comment {
        id
      }
    }
  }
`,Jp=`
  mutation AddReaction($subjectId: ID!, $content: ReactionContent!) {
    addReaction(input: { subjectId: $subjectId, content: $content }) {
      reaction {
        content
      }
    }
  }
`,Yp=`
  mutation RemoveReaction($subjectId: ID!, $content: ReactionContent!) {
    removeReaction(input: { subjectId: $subjectId, content: $content }) {
      reaction {
        content
      }
    }
  }
`,Zp=`
  query ListDiscussions($owner: String!, $name: String!, $categoryId: ID!) {
    repository(owner: $owner, name: $name) {
      discussions(first: 50, categoryId: $categoryId) {
        nodes {
          id
          title
          body
          url
          createdAt
          comments {
            totalCount
          }
        }
      }
    }
  }
`;async function Xp(e){const t=En(),o=`"${`Comments: ${e}`}" in:title repo:${t.repo.owner}/${t.repo.name}`,i=(await U(Hp,{query:o})).search?.nodes?.[0];if(!i)return null;const a=(i.comments?.nodes??[]).map(c=>{const{meta:l,text:u}=ue(c.body);return{...c,meta:l,text:u,replies:(c.replies?.nodes??[]).map(d=>{const{meta:p,text:f}=ue(d.body);return{...d,meta:p,text:f}})}});return{...i,comments:a}}async function Qp(e){const t=En(),o=`"${`Comments: ${e}`}" in:title repo:${t.repo.owner}/${t.repo.name}`,i=(await U(Fp,{query:o})).search?.nodes?.[0];if(!i)return null;const a=(i.comments?.nodes??[]).map(c=>{const{meta:l,text:u}=ue(c.body);return{...c,meta:l,text:u}});return{...i,comments:a}}async function ei(e){const n=(await U(Up,{id:e})).node;if(!n)return null;const{meta:o,text:s}=ue(n.body),i=(n.replies?.nodes??[]).map(a=>{const{meta:c,text:l}=ue(a.body);return{...a,meta:c,text:l}});return{...n,meta:o,text:s,replies:i}}async function ti(){const e=En(),t=e.discussions.category.toLowerCase().replace(/\s+/g,"-"),n=await U(qp,{owner:e.repo.owner,name:e.repo.name,slug:t}),o=n.repository?.id;let s=n.repository?.discussionCategory?.id;if(s||(s=n.repository?.discussionCategories?.nodes?.find(a=>a.name===e.discussions.category)?.id),!o||!s)throw new Error(`Could not find repository or discussion category "${e.discussions.category}" in ${e.repo.owner}/${e.repo.name}`);return{repositoryId:o,categoryId:s}}async function ef(e,t,n,o){let s=await Xp(e);if(!s){const{repositoryId:c,categoryId:l}=await ti(),u=`Comments: ${e}`,d=tt({route:e,createdAt:new Date().toISOString()},"");s=(await U(Wp,{repositoryId:c,categoryId:l,title:u,body:d})).createDiscussion.discussion}const i=tt({x:Math.round(t*10)/10,y:Math.round(n*10)/10},o);return(await U(Vp,{discussionId:s.id,body:i})).addDiscussionComment.comment}async function tf(e,t,n){return(await U(Kp,{discussionId:e,replyToId:t,body:n})).addDiscussionComment.comment}async function nf(e,t){const{meta:n,text:o}=ue(t),s={...n,resolved:!0},i=o.startsWith("(Resolved) ")?o:`(Resolved) ${o}`,a=tt(s,i);return(await U(Mt,{commentId:e,body:a})).updateDiscussionComment.comment}async function rf(e,t){const{meta:n,text:o}=ue(t),s={...n};delete s.resolved;const i=o.replace(/^\(Resolved\)\s*/,""),a=tt(s,i);return(await U(Mt,{commentId:e,body:a})).updateDiscussionComment.comment}async function sf(e,t,n){const{meta:o}=ue(t),s=o?tt(o,n):n;return(await U(Mt,{commentId:e,body:s})).updateDiscussionComment.comment}async function of(e,t){return(await U(Mt,{commentId:e,body:t})).updateDiscussionComment.comment}async function af(e,t,n,o){const s=Bp(t,{x:Math.round(n*10)/10,y:Math.round(o*10)/10});return(await U(Mt,{commentId:e,body:s})).updateDiscussionComment.comment}async function cf(e){await U(Gp,{commentId:e})}async function Gs(e,t){await U(Jp,{subjectId:e,content:t})}async function Js(e,t){await U(Yp,{subjectId:e,content:t})}async function Wm(){const e=En(),{categoryId:t}=await ti();return(await U(Zp,{owner:e.repo.owner,name:e.repo.name,categoryId:t})).repository?.discussions?.nodes??[]}const dn="sb-comments:",lf=120*1e3;function df(e){try{const t=localStorage.getItem(dn+e);if(!t)return null;const n=JSON.parse(t);return Date.now()-n.ts>lf?(localStorage.removeItem(dn+e),null):n.data}catch{return null}}function uf(e,t){try{localStorage.setItem(dn+e,JSON.stringify({ts:Date.now(),data:t}))}catch{}}function ni(e){try{localStorage.removeItem(dn+e)}catch{}}var sr=!1,or=!1,Ne=[],ir=-1,qr=!1;function pf(e){mf(e)}function ff(){qr=!0}function hf(){qr=!1,ri()}function mf(e){Ne.includes(e)||Ne.push(e),ri()}function gf(e){let t=Ne.indexOf(e);t!==-1&&t>ir&&Ne.splice(t,1)}function ri(){if(!or&&!sr){if(qr)return;sr=!0,queueMicrotask(bf)}}function bf(){sr=!1,or=!0;for(let e=0;e<Ne.length;e++)Ne[e](),ir=e;Ne.length=0,ir=-1,or=!1}var it,ze,at,si,ar=!0;function xf(e){ar=!1,e(),ar=!0}function vf(e){it=e.reactive,at=e.release,ze=t=>e.effect(t,{scheduler:n=>{ar?pf(n):n()}}),si=e.raw}function Ys(e){ze=e}function yf(e){let t=()=>{};return[o=>{let s=ze(o);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(i=>i())}),e._x_effects.add(s),t=()=>{s!==void 0&&(e._x_effects.delete(s),at(s))},s},()=>{t()}]}function oi(e,t){let n=!0,o,s=ze(()=>{let i=e();if(JSON.stringify(i),!n&&(typeof i=="object"||i!==o)){let a=o;queueMicrotask(()=>{t(i,a)})}o=i,n=!1});return()=>at(s)}async function _f(e){ff();try{await e(),await Promise.resolve()}finally{hf()}}var ii=[],ai=[],ci=[];function wf(e){ci.push(e)}function Wr(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,ai.push(t))}function li(e){ii.push(e)}function di(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function ui(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,o])=>{(t===void 0||t.includes(n))&&(o.forEach(s=>s()),delete e._x_attributeCleanups[n])})}function jf(e){for(e._x_effects?.forEach(gf);e._x_cleanups?.length;)e._x_cleanups.pop()()}var Vr=new MutationObserver(Yr),Kr=!1;function Gr(){Vr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Kr=!0}function pi(){Sf(),Vr.disconnect(),Kr=!1}var ft=[];function Sf(){let e=Vr.takeRecords();ft.push(()=>e.length>0&&Yr(e));let t=ft.length;queueMicrotask(()=>{if(ft.length===t)for(;ft.length>0;)ft.shift()()})}function O(e){if(!Kr)return e();pi();let t=e();return Gr(),t}var Jr=!1,un=[];function Cf(){Jr=!0}function Ef(){Jr=!1,Yr(un),un=[]}function Yr(e){if(Jr){un=un.concat(e);return}let t=[],n=new Set,o=new Map,s=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&(e[i].type==="childList"&&(e[i].removedNodes.forEach(a=>{a.nodeType===1&&a._x_marker&&n.add(a)}),e[i].addedNodes.forEach(a=>{if(a.nodeType===1){if(n.has(a)){n.delete(a);return}a._x_marker||t.push(a)}})),e[i].type==="attributes")){let a=e[i].target,c=e[i].attributeName,l=e[i].oldValue,u=()=>{o.has(a)||o.set(a,[]),o.get(a).push({name:c,value:a.getAttribute(c)})},d=()=>{s.has(a)||s.set(a,[]),s.get(a).push(c)};a.hasAttribute(c)&&l===null?u():a.hasAttribute(c)?(d(),u()):d()}s.forEach((i,a)=>{ui(a,i)}),o.forEach((i,a)=>{ii.forEach(c=>c(a,i))});for(let i of n)t.some(a=>a.contains(i))||ai.forEach(a=>a(i));for(let i of t)i.isConnected&&ci.forEach(a=>a(i));t=null,n=null,o=null,s=null}function fi(e){return Me(Pe(e))}function Dt(e,t,n){return e._x_dataStack=[t,...Pe(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(o=>o!==t)}}function Pe(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?Pe(e.host):e.parentNode?Pe(e.parentNode):[]}function Me(e){return new Proxy({objects:e},kf)}var kf={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?If:Reflect.get(e.find(o=>Reflect.has(o,t))||{},t,n)},set({objects:e},t,n,o){const s=e.find(a=>Object.prototype.hasOwnProperty.call(a,t))||e[e.length-1],i=Object.getOwnPropertyDescriptor(s,t);return i?.set&&i?.get?i.set.call(o,n)||!0:Reflect.set(s,t,n)}};function If(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function Zr(e){let t=o=>typeof o=="object"&&!Array.isArray(o)&&o!==null,n=(o,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([i,{value:a,enumerable:c}])=>{if(c===!1||a===void 0||typeof a=="object"&&a!==null&&a.__v_skip)return;let l=s===""?i:`${s}.${i}`;typeof a=="object"&&a!==null&&a._x_interceptor?o[i]=a.initialize(e,l,i):t(a)&&a!==o&&!(a instanceof Element)&&n(a,l)})};return n(e)}function hi(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(o,s,i){return e(this.initialValue,()=>Af(o,s),a=>cr(o,s,a),s,i)}};return t(n),o=>{if(typeof o=="object"&&o!==null&&o._x_interceptor){let s=n.initialize.bind(n);n.initialize=(i,a,c)=>{let l=o.initialize(i,a,c);return n.initialValue=l,s(i,a,c)}}else n.initialValue=o;return n}}function Af(e,t){return t.split(".").reduce((n,o)=>n[o],e)}function cr(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),cr(e[t[0]],t.slice(1),n)}}var mi={};function Q(e,t){mi[e]=t}function Ct(e,t){let n=Tf(t);return Object.entries(mi).forEach(([o,s])=>{Object.defineProperty(e,`$${o}`,{get(){return s(t,n)},enumerable:!1})}),e}function Tf(e){let[t,n]=ji(e),o={interceptor:hi,...t};return Wr(e,n),o}function Rf(e,t,n,...o){try{return n(...o)}catch(s){Et(s,e,t)}}function Et(...e){return gi(...e)}var gi=Lf;function Nf(e){gi=e}function Lf(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Xe=!0;function bi(e){let t=Xe;Xe=!1;let n=e();return Xe=t,n}function Le(e,t,n={}){let o;return V(e,t)(s=>o=s,n),o}function V(...e){return xi(...e)}var xi=yi;function Of(e){xi=e}var vi;function $f(e){vi=e}function yi(e,t){let n={};Ct(n,e);let o=[n,...Pe(e)],s=typeof t=="function"?Pf(o,t):Df(o,t,e);return Rf.bind(null,e,t,s)}function Pf(e,t){return(n=()=>{},{scope:o={},params:s=[],context:i}={})=>{if(!Xe){kt(n,t,Me([o,...e]),s);return}let a=t.apply(Me([o,...e]),s);kt(n,a)}}var Vn={};function Mf(e,t){if(Vn[e])return Vn[e];let n=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,i=(()=>{try{let a=new n(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`);return Object.defineProperty(a,"name",{value:`[Alpine] ${e}`}),a}catch(a){return Et(a,t,e),Promise.resolve()}})();return Vn[e]=i,i}function Df(e,t,n){let o=Mf(t,n);return(s=()=>{},{scope:i={},params:a=[],context:c}={})=>{o.result=void 0,o.finished=!1;let l=Me([i,...e]);if(typeof o=="function"){let u=o.call(c,o,l).catch(d=>Et(d,n,t));o.finished?(kt(s,o.result,l,a,n),o.result=void 0):u.then(d=>{kt(s,d,l,a,n)}).catch(d=>Et(d,n,t)).finally(()=>o.result=void 0)}}}function kt(e,t,n,o,s){if(Xe&&typeof t=="function"){let i=t.apply(n,o);i instanceof Promise?i.then(a=>kt(e,a,n,o)).catch(a=>Et(a,s,t)):e(i)}else typeof t=="object"&&t instanceof Promise?t.then(i=>e(i)):e(t)}function Bf(...e){return vi(...e)}function zf(e,t,n={}){let o={};Ct(o,e);let s=[o,...Pe(e)],i=Me([n.scope??{},...s]),a=n.params??[];if(t.includes("await")){let c=Object.getPrototypeOf(async function(){}).constructor,l=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t;return new c(["scope"],`with (scope) { let __result = ${l}; return __result }`).call(n.context,i)}else{let c=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(()=>{ ${t} })()`:t,u=new Function(["scope"],`with (scope) { let __result = ${c}; return __result }`).call(n.context,i);return typeof u=="function"&&Xe?u.apply(i,a):u}}var Xr="x-";function ct(e=""){return Xr+e}function Hf(e){Xr=e}var pn={};function D(e,t){return pn[e]=t,{before(n){if(!pn[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const o=Te.indexOf(n);Te.splice(o>=0?o:Te.indexOf("DEFAULT"),0,e)}}}function Ff(e){return Object.keys(pn).includes(e)}function Qr(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let i=Object.entries(e._x_virtualDirectives).map(([c,l])=>({name:c,value:l})),a=_i(i);i=i.map(c=>a.find(l=>l.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),t=t.concat(i)}let o={};return t.map(Ei((i,a)=>o[i]=a)).filter(Ii).map(Wf(o,n)).sort(Vf).map(i=>qf(e,i))}function _i(e){return Array.from(e).map(Ei()).filter(t=>!Ii(t))}var lr=!1,bt=new Map,wi=Symbol();function Uf(e){lr=!0;let t=Symbol();wi=t,bt.set(t,[]);let n=()=>{for(;bt.get(t).length;)bt.get(t).shift()();bt.delete(t)},o=()=>{lr=!1,n()};e(n),o()}function ji(e){let t=[],n=c=>t.push(c),[o,s]=yf(e);return t.push(s),[{Alpine:dt,effect:o,cleanup:n,evaluateLater:V.bind(V,e),evaluate:Le.bind(Le,e)},()=>t.forEach(c=>c())]}function qf(e,t){let n=()=>{},o=pn[t.type]||n,[s,i]=ji(e);di(e,t.original,i);let a=()=>{e._x_ignore||e._x_ignoreSelf||(o.inline&&o.inline(e,t,s),o=o.bind(o,e,t,s),lr?bt.get(wi).push(o):o())};return a.runCleanups=i,a}var Si=(e,t)=>({name:n,value:o})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:o}),Ci=e=>e;function Ei(e=()=>{}){return({name:t,value:n})=>{let{name:o,value:s}=ki.reduce((i,a)=>a(i),{name:t,value:n});return o!==t&&e(o,t),{name:o,value:s}}}var ki=[];function es(e){ki.push(e)}function Ii({name:e}){return Ai().test(e)}var Ai=()=>new RegExp(`^${Xr}([^:^.]+)\\b`);function Wf(e,t){return({name:n,value:o})=>{n===o&&(o="");let s=n.match(Ai()),i=n.match(/:([a-zA-Z0-9\-_:]+)/),a=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],c=t||e[n]||n;return{type:s?s[1]:null,value:i?i[1]:null,modifiers:a.map(l=>l.replace(".","")),expression:o,original:c}}}var dr="DEFAULT",Te=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",dr,"teleport"];function Vf(e,t){let n=Te.indexOf(e.type)===-1?dr:e.type,o=Te.indexOf(t.type)===-1?dr:t.type;return Te.indexOf(n)-Te.indexOf(o)}function yt(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function De(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(s=>De(s,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let o=e.firstElementChild;for(;o;)De(o,t),o=o.nextElementSibling}function J(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Zs=!1;function Kf(){Zs&&J("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Zs=!0,document.body||J("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),yt(document,"alpine:init"),yt(document,"alpine:initializing"),Gr(),wf(t=>pe(t,De)),Wr(t=>lt(t)),li((t,n)=>{Qr(t,n).forEach(o=>o())});let e=t=>!In(t.parentElement,!0);Array.from(document.querySelectorAll(Ni().join(","))).filter(e).forEach(t=>{pe(t)}),yt(document,"alpine:initialized"),setTimeout(()=>{Zf()})}var ts=[],Ti=[];function Ri(){return ts.map(e=>e())}function Ni(){return ts.concat(Ti).map(e=>e())}function Li(e){ts.push(e)}function Oi(e){Ti.push(e)}function In(e,t=!1){return Be(e,n=>{if((t?Ni():Ri()).some(s=>n.matches(s)))return!0})}function Be(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentNode instanceof ShadowRoot)return Be(e.parentNode.host,t);if(e.parentElement)return Be(e.parentElement,t)}}function Gf(e){return Ri().some(t=>e.matches(t))}var $i=[];function Jf(e){$i.push(e)}var Yf=1;function pe(e,t=De,n=()=>{}){Be(e,o=>o._x_ignore)||Uf(()=>{t(e,(o,s)=>{o._x_marker||(n(o,s),$i.forEach(i=>i(o,s)),Qr(o,o.attributes).forEach(i=>i()),o._x_ignore||(o._x_marker=Yf++),o._x_ignore&&s())})})}function lt(e,t=De){t(e,n=>{jf(n),ui(n),delete n._x_marker})}function Zf(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,o])=>{Ff(n)||o.some(s=>{if(document.querySelector(s))return J(`found "${s}", but missing ${t} plugin`),!0})})}var ur=[],ns=!1;function rs(e=()=>{}){return queueMicrotask(()=>{ns||setTimeout(()=>{pr()})}),new Promise(t=>{ur.push(()=>{e(),t()})})}function pr(){for(ns=!1;ur.length;)ur.shift()()}function Xf(){ns=!0}function ss(e,t){return Array.isArray(t)?Xs(e,t.join(" ")):typeof t=="object"&&t!==null?Qf(e,t):typeof t=="function"?ss(e,t()):Xs(e,t)}function Xs(e,t){let n=s=>s.split(" ").filter(i=>!e.classList.contains(i)).filter(Boolean),o=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",o(n(t))}function Qf(e,t){let n=c=>c.split(" ").filter(Boolean),o=Object.entries(t).flatMap(([c,l])=>l?n(c):!1).filter(Boolean),s=Object.entries(t).flatMap(([c,l])=>l?!1:n(c)).filter(Boolean),i=[],a=[];return s.forEach(c=>{e.classList.contains(c)&&(e.classList.remove(c),a.push(c))}),o.forEach(c=>{e.classList.contains(c)||(e.classList.add(c),i.push(c))}),()=>{a.forEach(c=>e.classList.add(c)),i.forEach(c=>e.classList.remove(c))}}function An(e,t){return typeof t=="object"&&t!==null?eh(e,t):th(e,t)}function eh(e,t){let n={};return Object.entries(t).forEach(([o,s])=>{n[o]=e.style[o],o.startsWith("--")||(o=nh(o)),e.style.setProperty(o,s)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{An(e,n)}}function th(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function nh(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fr(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}D("transition",(e,{value:t,modifiers:n,expression:o},{evaluate:s})=>{typeof o=="function"&&(o=s(o)),o!==!1&&(!o||typeof o=="boolean"?sh(e,n,t):rh(e,o,t))});function rh(e,t,n){Pi(e,ss,""),{enter:s=>{e._x_transition.enter.during=s},"enter-start":s=>{e._x_transition.enter.start=s},"enter-end":s=>{e._x_transition.enter.end=s},leave:s=>{e._x_transition.leave.during=s},"leave-start":s=>{e._x_transition.leave.start=s},"leave-end":s=>{e._x_transition.leave.end=s}}[n](t)}function sh(e,t,n){Pi(e,An);let o=!t.includes("in")&&!t.includes("out")&&!n,s=o||t.includes("in")||["enter"].includes(n),i=o||t.includes("out")||["leave"].includes(n);t.includes("in")&&!o&&(t=t.filter((y,j)=>j<t.indexOf("out"))),t.includes("out")&&!o&&(t=t.filter((y,j)=>j>t.indexOf("out")));let a=!t.includes("opacity")&&!t.includes("scale"),c=a||t.includes("opacity"),l=a||t.includes("scale"),u=c?0:1,d=l?ht(t,"scale",95)/100:1,p=ht(t,"delay",0)/1e3,f=ht(t,"origin","center"),b="opacity, transform",x=ht(t,"duration",150)/1e3,g=ht(t,"duration",75)/1e3,h="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(e._x_transition.enter.during={transformOrigin:f,transitionDelay:`${p}s`,transitionProperty:b,transitionDuration:`${x}s`,transitionTimingFunction:h},e._x_transition.enter.start={opacity:u,transform:`scale(${d})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:f,transitionDelay:`${p}s`,transitionProperty:b,transitionDuration:`${g}s`,transitionTimingFunction:h},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${d})`})}function Pi(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(o=()=>{},s=()=>{}){hr(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,s)},out(o=()=>{},s=()=>{}){hr(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,o){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let i=()=>s(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((a,c)=>{e._x_transition.out(()=>{},()=>a(o)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>c({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let a=Mi(e);a?(a._x_hideChildren||(a._x_hideChildren=[]),a._x_hideChildren.push(e)):s(()=>{let c=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(c)]).then(([d])=>d?.());return delete l._x_hidePromise,delete l._x_hideChildren,u};c(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function Mi(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Mi(t)}function hr(e,t,{during:n,start:o,end:s}={},i=()=>{},a=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(o).length===0&&Object.keys(s).length===0){i(),a();return}let c,l,u;oh(e,{start(){c=t(e,o)},during(){l=t(e,n)},before:i,end(){c(),u=t(e,s)},after:a,cleanup(){l(),u()}})}function oh(e,t){let n,o,s,i=fr(()=>{O(()=>{n=!0,o||t.before(),s||(t.end(),pr()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(a){this.beforeCancels.push(a)},cancel:fr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()}),finish:i},O(()=>{t.start(),t.during()}),Xf(),requestAnimationFrame(()=>{if(n)return;let a=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,c=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;a===0&&(a=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),O(()=>{t.before()}),o=!0,requestAnimationFrame(()=>{n||(O(()=>{t.end()}),pr(),setTimeout(e._x_transitioning.finish,a+c),s=!0)})})}function ht(e,t,n){if(e.indexOf(t)===-1)return n;const o=e[e.indexOf(t)+1];if(!o||t==="scale"&&isNaN(o))return n;if(t==="duration"||t==="delay"){let s=o.match(/([0-9]+)ms/);if(s)return s[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[o,e[e.indexOf(t)+2]].join(" "):o}var _e=!1;function je(e,t=()=>{}){return(...n)=>_e?t(...n):e(...n)}function ih(e){return(...t)=>_e&&e(...t)}var Di=[];function Tn(e){Di.push(e)}function ah(e,t){Di.forEach(n=>n(e,t)),_e=!0,Bi(()=>{pe(t,(n,o)=>{o(n,()=>{})})}),_e=!1}var mr=!1;function ch(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),_e=!0,mr=!0,Bi(()=>{lh(t)}),_e=!1,mr=!1}function lh(e){let t=!1;pe(e,(o,s)=>{De(o,(i,a)=>{if(t&&Gf(i))return a();t=!0,s(i,a)})})}function Bi(e){let t=ze;Ys((n,o)=>{let s=t(n);return at(s),()=>{}}),e(),Ys(t)}function zi(e,t,n,o=[]){switch(e._x_bindings||(e._x_bindings=it({})),e._x_bindings[t]=n,t=o.includes("camel")?bh(t):t,t){case"value":dh(e,n);break;case"style":ph(e,n);break;case"class":uh(e,n);break;case"selected":case"checked":fh(e,t,n);break;default:Hi(e,t,n);break}}function dh(e,t){if(qi(e))e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=Qt(e.value)===t:e.checked=Qs(e.value,t));else if(os(e))Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Qs(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")gh(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function uh(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=ss(e,t)}function ph(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=An(e,t)}function fh(e,t,n){Hi(e,t,n),mh(e,t,n)}function Hi(e,t,n){[null,void 0,!1].includes(n)&&vh(t)?e.removeAttribute(t):(Fi(t)&&(n=t),hh(e,t,n))}function hh(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function mh(e,t,n){e[t]!==n&&(e[t]=n)}function gh(e,t){const n=[].concat(t).map(o=>o+"");Array.from(e.options).forEach(o=>{o.selected=n.includes(o.value)})}function bh(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Qs(e,t){return e==t}function Qt(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}var xh=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function Fi(e){return xh.has(e)}function vh(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function yh(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Ui(e,t,n)}function _h(e,t,n,o=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let s=e._x_inlineBindings[t];return s.extract=o,bi(()=>Le(e,s.expression))}return Ui(e,t,n)}function Ui(e,t,n){let o=e.getAttribute(t);return o===null?typeof n=="function"?n():n:o===""?!0:Fi(t)?!![t,"true"].includes(o):o}function os(e){return e.type==="checkbox"||e.localName==="ui-checkbox"||e.localName==="ui-switch"}function qi(e){return e.type==="radio"||e.localName==="ui-radio"}function Wi(e,t){let n;return function(){const o=this,s=arguments,i=function(){n=null,e.apply(o,s)};clearTimeout(n),n=setTimeout(i,t)}}function Vi(e,t){let n;return function(){let o=this,s=arguments;n||(e.apply(o,s),n=!0,setTimeout(()=>n=!1,t))}}function Ki({get:e,set:t},{get:n,set:o}){let s=!0,i,a=ze(()=>{let c=e(),l=n();if(s)o(Kn(c)),s=!1;else{let u=JSON.stringify(c),d=JSON.stringify(l);u!==i?o(Kn(c)):u!==d&&t(Kn(l))}i=JSON.stringify(e()),JSON.stringify(n())});return()=>{at(a)}}function Kn(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function wh(e){(Array.isArray(e)?e:[e]).forEach(n=>n(dt))}var ke={},eo=!1;function jh(e,t){if(eo||(ke=it(ke),eo=!0),t===void 0)return ke[e];ke[e]=t,Zr(ke[e]),typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&ke[e].init()}function Sh(){return ke}var Gi={};function Ch(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?Ji(e,n()):(Gi[e]=n,()=>{})}function Eh(e){return Object.entries(Gi).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...o)=>n(...o)}})}),e}function Ji(e,t,n){let o=[];for(;o.length;)o.pop()();let s=Object.entries(t).map(([a,c])=>({name:a,value:c})),i=_i(s);return s=s.map(a=>i.find(c=>c.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),Qr(e,s,n).map(a=>{o.push(a.runCleanups),a()}),()=>{for(;o.length;)o.pop()()}}var Yi={};function kh(e,t){Yi[e]=t}function Ih(e,t){return Object.entries(Yi).forEach(([n,o])=>{Object.defineProperty(e,n,{get(){return(...s)=>o.bind(t)(...s)},enumerable:!1})}),e}var Ah={get reactive(){return it},get release(){return at},get effect(){return ze},get raw(){return si},get transaction(){return _f},version:"3.15.8",flushAndStopDeferringMutations:Ef,dontAutoEvaluateFunctions:bi,disableEffectScheduling:xf,startObservingMutations:Gr,stopObservingMutations:pi,setReactivityEngine:vf,onAttributeRemoved:di,onAttributesAdded:li,closestDataStack:Pe,skipDuringClone:je,onlyDuringClone:ih,addRootSelector:Li,addInitSelector:Oi,setErrorHandler:Nf,interceptClone:Tn,addScopeToNode:Dt,deferMutations:Cf,mapAttributes:es,evaluateLater:V,interceptInit:Jf,initInterceptors:Zr,injectMagics:Ct,setEvaluator:Of,setRawEvaluator:$f,mergeProxies:Me,extractProp:_h,findClosest:Be,onElRemoved:Wr,closestRoot:In,destroyTree:lt,interceptor:hi,transition:hr,setStyles:An,mutateDom:O,directive:D,entangle:Ki,throttle:Vi,debounce:Wi,evaluate:Le,evaluateRaw:Bf,initTree:pe,nextTick:rs,prefixed:ct,prefix:Hf,plugin:wh,magic:Q,store:jh,start:Kf,clone:ch,cloneNode:ah,bound:yh,$data:fi,watch:oi,walk:De,data:kh,bind:Ch},dt=Ah;function Th(e,t){const n=Object.create(null),o=e.split(",");for(let s=0;s<o.length;s++)n[o[s]]=!0;return s=>!!n[s]}var Rh=Object.freeze({}),Nh=Object.prototype.hasOwnProperty,Rn=(e,t)=>Nh.call(e,t),Oe=Array.isArray,_t=e=>Zi(e)==="[object Map]",Lh=e=>typeof e=="string",is=e=>typeof e=="symbol",Nn=e=>e!==null&&typeof e=="object",Oh=Object.prototype.toString,Zi=e=>Oh.call(e),Xi=e=>Zi(e).slice(8,-1),as=e=>Lh(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,$h=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Ph=$h(e=>e.charAt(0).toUpperCase()+e.slice(1)),Qi=(e,t)=>e!==t&&(e===e||t===t),gr=new WeakMap,mt=[],te,$e=Symbol("iterate"),br=Symbol("Map key iterate");function Mh(e){return e&&e._isEffect===!0}function Dh(e,t=Rh){Mh(e)&&(e=e.raw);const n=Hh(e,t);return t.lazy||n(),n}function Bh(e){e.active&&(ea(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var zh=0;function Hh(e,t){const n=function(){if(!n.active)return e();if(!mt.includes(n)){ea(n);try{return Uh(),mt.push(n),te=n,e()}finally{mt.pop(),ta(),te=mt[mt.length-1]}}};return n.id=zh++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function ea(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var nt=!0,cs=[];function Fh(){cs.push(nt),nt=!1}function Uh(){cs.push(nt),nt=!0}function ta(){const e=cs.pop();nt=e===void 0?!0:e}function X(e,t,n){if(!nt||te===void 0)return;let o=gr.get(e);o||gr.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=new Set),s.has(te)||(s.add(te),te.deps.push(s),te.options.onTrack&&te.options.onTrack({effect:te,target:e,type:t,key:n}))}function we(e,t,n,o,s,i){const a=gr.get(e);if(!a)return;const c=new Set,l=d=>{d&&d.forEach(p=>{(p!==te||p.allowRecurse)&&c.add(p)})};if(t==="clear")a.forEach(l);else if(n==="length"&&Oe(e))a.forEach((d,p)=>{(p==="length"||p>=o)&&l(d)});else switch(n!==void 0&&l(a.get(n)),t){case"add":Oe(e)?as(n)&&l(a.get("length")):(l(a.get($e)),_t(e)&&l(a.get(br)));break;case"delete":Oe(e)||(l(a.get($e)),_t(e)&&l(a.get(br)));break;case"set":_t(e)&&l(a.get($e));break}const u=d=>{d.options.onTrigger&&d.options.onTrigger({effect:d,target:e,key:n,type:t,newValue:o,oldValue:s,oldTarget:i}),d.options.scheduler?d.options.scheduler(d):d()};c.forEach(u)}var qh=Th("__proto__,__v_isRef,__isVue"),na=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(is)),Wh=ra(),Vh=ra(!0),to=Kh();function Kh(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=N(this);for(let i=0,a=this.length;i<a;i++)X(o,"get",i+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(N)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Fh();const o=N(this)[t].apply(this,n);return ta(),o}}),e}function ra(e=!1,t=!1){return function(o,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_raw"&&i===(e?t?am:aa:t?im:ia).get(o))return o;const a=Oe(o);if(!e&&a&&Rn(to,s))return Reflect.get(to,s,i);const c=Reflect.get(o,s,i);return(is(s)?na.has(s):qh(s))||(e||X(o,"get",s),t)?c:xr(c)?!a||!as(s)?c.value:c:Nn(c)?e?ca(c):ps(c):c}}var Gh=Jh();function Jh(e=!1){return function(n,o,s,i){let a=n[o];if(!e&&(s=N(s),a=N(a),!Oe(n)&&xr(a)&&!xr(s)))return a.value=s,!0;const c=Oe(n)&&as(o)?Number(o)<n.length:Rn(n,o),l=Reflect.set(n,o,s,i);return n===N(i)&&(c?Qi(s,a)&&we(n,"set",o,s,a):we(n,"add",o,s)),l}}function Yh(e,t){const n=Rn(e,t),o=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&we(e,"delete",t,void 0,o),s}function Zh(e,t){const n=Reflect.has(e,t);return(!is(t)||!na.has(t))&&X(e,"has",t),n}function Xh(e){return X(e,"iterate",Oe(e)?"length":$e),Reflect.ownKeys(e)}var Qh={get:Wh,set:Gh,deleteProperty:Yh,has:Zh,ownKeys:Xh},em={get:Vh,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},ls=e=>Nn(e)?ps(e):e,ds=e=>Nn(e)?ca(e):e,us=e=>e,Ln=e=>Reflect.getPrototypeOf(e);function qt(e,t,n=!1,o=!1){e=e.__v_raw;const s=N(e),i=N(t);t!==i&&!n&&X(s,"get",t),!n&&X(s,"get",i);const{has:a}=Ln(s),c=o?us:n?ds:ls;if(a.call(s,t))return c(e.get(t));if(a.call(s,i))return c(e.get(i));e!==s&&e.get(t)}function Wt(e,t=!1){const n=this.__v_raw,o=N(n),s=N(e);return e!==s&&!t&&X(o,"has",e),!t&&X(o,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function Vt(e,t=!1){return e=e.__v_raw,!t&&X(N(e),"iterate",$e),Reflect.get(e,"size",e)}function no(e){e=N(e);const t=N(this);return Ln(t).has.call(t,e)||(t.add(e),we(t,"add",e,e)),this}function ro(e,t){t=N(t);const n=N(this),{has:o,get:s}=Ln(n);let i=o.call(n,e);i?oa(n,o,e):(e=N(e),i=o.call(n,e));const a=s.call(n,e);return n.set(e,t),i?Qi(t,a)&&we(n,"set",e,t,a):we(n,"add",e,t),this}function so(e){const t=N(this),{has:n,get:o}=Ln(t);let s=n.call(t,e);s?oa(t,n,e):(e=N(e),s=n.call(t,e));const i=o?o.call(t,e):void 0,a=t.delete(e);return s&&we(t,"delete",e,void 0,i),a}function oo(){const e=N(this),t=e.size!==0,n=_t(e)?new Map(e):new Set(e),o=e.clear();return t&&we(e,"clear",void 0,void 0,n),o}function Kt(e,t){return function(o,s){const i=this,a=i.__v_raw,c=N(a),l=t?us:e?ds:ls;return!e&&X(c,"iterate",$e),a.forEach((u,d)=>o.call(s,l(u),l(d),i))}}function Gt(e,t,n){return function(...o){const s=this.__v_raw,i=N(s),a=_t(i),c=e==="entries"||e===Symbol.iterator&&a,l=e==="keys"&&a,u=s[e](...o),d=n?us:t?ds:ls;return!t&&X(i,"iterate",l?br:$e),{next(){const{value:p,done:f}=u.next();return f?{value:p,done:f}:{value:c?[d(p[0]),d(p[1])]:d(p),done:f}},[Symbol.iterator](){return this}}}}function ge(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Ph(e)} operation ${n}failed: target is readonly.`,N(this))}return e==="delete"?!1:this}}function tm(){const e={get(i){return qt(this,i)},get size(){return Vt(this)},has:Wt,add:no,set:ro,delete:so,clear:oo,forEach:Kt(!1,!1)},t={get(i){return qt(this,i,!1,!0)},get size(){return Vt(this)},has:Wt,add:no,set:ro,delete:so,clear:oo,forEach:Kt(!1,!0)},n={get(i){return qt(this,i,!0)},get size(){return Vt(this,!0)},has(i){return Wt.call(this,i,!0)},add:ge("add"),set:ge("set"),delete:ge("delete"),clear:ge("clear"),forEach:Kt(!0,!1)},o={get(i){return qt(this,i,!0,!0)},get size(){return Vt(this,!0)},has(i){return Wt.call(this,i,!0)},add:ge("add"),set:ge("set"),delete:ge("delete"),clear:ge("clear"),forEach:Kt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Gt(i,!1,!1),n[i]=Gt(i,!0,!1),t[i]=Gt(i,!1,!0),o[i]=Gt(i,!0,!0)}),[e,n,t,o]}var[nm,rm]=tm();function sa(e,t){const n=e?rm:nm;return(o,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get(Rn(n,s)&&s in o?n:o,s,i)}var sm={get:sa(!1)},om={get:sa(!0)};function oa(e,t,n){const o=N(n);if(o!==n&&t.call(e,o)){const s=Xi(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ia=new WeakMap,im=new WeakMap,aa=new WeakMap,am=new WeakMap;function cm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lm(e){return e.__v_skip||!Object.isExtensible(e)?0:cm(Xi(e))}function ps(e){return e&&e.__v_isReadonly?e:la(e,!1,Qh,sm,ia)}function ca(e){return la(e,!0,em,om,aa)}function la(e,t,n,o,s){if(!Nn(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const a=lm(e);if(a===0)return e;const c=new Proxy(e,a===2?o:n);return s.set(e,c),c}function N(e){return e&&N(e.__v_raw)||e}function xr(e){return!!(e&&e.__v_isRef===!0)}Q("nextTick",()=>rs);Q("dispatch",e=>yt.bind(yt,e));Q("watch",(e,{evaluateLater:t,cleanup:n})=>(o,s)=>{let i=t(o),c=oi(()=>{let l;return i(u=>l=u),l},s);n(c)});Q("store",Sh);Q("data",e=>fi(e));Q("root",e=>In(e));Q("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Me(dm(e))),e._x_refs_proxy));function dm(e){let t=[];return Be(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var Gn={};function da(e){return Gn[e]||(Gn[e]=0),++Gn[e]}function um(e,t){return Be(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function pm(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=da(t))}Q("id",(e,{cleanup:t})=>(n,o=null)=>{let s=`${n}${o?`-${o}`:""}`;return fm(e,s,t,()=>{let i=um(e,n),a=i?i._x_ids[n]:da(n);return o?`${n}-${a}-${o}`:`${n}-${a}`})});Tn((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function fm(e,t,n,o){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let s=o();return e._x_id[t]=s,n(()=>{delete e._x_id[t]}),s}Q("el",e=>e);ua("Focus","focus","focus");ua("Persist","persist","persist");function ua(e,t,n){Q(t,o=>J(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,o))}D("modelable",(e,{expression:t},{effect:n,evaluateLater:o,cleanup:s})=>{let i=o(t),a=()=>{let d;return i(p=>d=p),d},c=o(`${t} = __placeholder`),l=d=>c(()=>{},{scope:{__placeholder:d}}),u=a();l(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let d=e._x_model.get,p=e._x_model.set,f=Ki({get(){return d()},set(b){p(b)}},{get(){return a()},set(b){l(b)}});s(f)})});D("teleport",(e,{modifiers:t,expression:n},{cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&J("x-teleport can only be used on a <template> tag",e);let s=io(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(c=>{i.addEventListener(c,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),Dt(i,{},e);let a=(c,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(c,l):u.includes("append")?l.parentNode.insertBefore(c,l.nextSibling):l.appendChild(c)};O(()=>{a(i,s,t),je(()=>{pe(i)})()}),e._x_teleportPutBack=()=>{let c=io(n);O(()=>{a(e._x_teleport,c,t)})},o(()=>O(()=>{i.remove(),lt(i)}))});var hm=document.createElement("div");function io(e){let t=je(()=>document.querySelector(e),()=>hm)();return t||J(`Cannot find x-teleport element for selector: "${e}"`),t}var pa=()=>{};pa.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};D("ignore",pa);D("effect",je((e,{expression:t},{effect:n})=>{n(V(e,t))}));function qe(e,t,n,o){let s=e,i=l=>o(l),a={},c=(l,u)=>d=>u(l,d);if(n.includes("dot")&&(t=mm(t)),n.includes("camel")&&(t=gm(t)),n.includes("passive")&&(a.passive=!0),n.includes("capture")&&(a.capture=!0),n.includes("window")&&(s=window),n.includes("document")&&(s=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",u=fn(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=Wi(i,u)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",u=fn(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=Vi(i,u)}return n.includes("prevent")&&(i=c(i,(l,u)=>{u.preventDefault(),l(u)})),n.includes("stop")&&(i=c(i,(l,u)=>{u.stopPropagation(),l(u)})),n.includes("once")&&(i=c(i,(l,u)=>{l(u),s.removeEventListener(t,i,a)})),(n.includes("away")||n.includes("outside"))&&(s=document,i=c(i,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),n.includes("self")&&(i=c(i,(l,u)=>{u.target===e&&l(u)})),t==="submit"&&(i=c(i,(l,u)=>{u.target._x_pendingModelUpdates&&u.target._x_pendingModelUpdates.forEach(d=>d()),l(u)})),(xm(t)||fa(t))&&(i=c(i,(l,u)=>{vm(u,n)||l(u)})),s.addEventListener(t,i,a),()=>{s.removeEventListener(t,i,a)}}function mm(e){return e.replace(/-/g,".")}function gm(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function fn(e){return!Array.isArray(e)&&!isNaN(e)}function bm(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function xm(e){return["keydown","keyup"].includes(e)}function fa(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function vm(e,t){let n=t.filter(i=>!["window","document","prevent","stop","once","capture","self","away","outside","passive","preserve-scroll","blur","change","lazy"].includes(i));if(n.includes("debounce")){let i=n.indexOf("debounce");n.splice(i,fn((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let i=n.indexOf("throttle");n.splice(i,fn((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&ao(e.key).includes(n[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(i=>n.includes(i));return n=n.filter(i=>!s.includes(i)),!(s.length>0&&s.filter(a=>((a==="cmd"||a==="super")&&(a="meta"),e[`${a}Key`])).length===s.length&&(fa(e.type)||ao(e.key).includes(n[0])))}function ao(e){if(!e)return[];e=bm(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}D("model",(e,{modifiers:t,expression:n},{effect:o,cleanup:s})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let a=V(i,n),c;typeof n=="string"?c=V(i,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?c=V(i,`${n()} = __placeholder`):c=()=>{};let l=()=>{let g;return a(h=>g=h),co(g)?g.get():g},u=g=>{let h;a(y=>h=y),co(h)?h.set(g):c(()=>{},{scope:{__placeholder:g}})};typeof n=="string"&&e.type==="radio"&&O(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});let d=t.includes("change")||t.includes("lazy"),p=t.includes("blur"),f=t.includes("enter"),b=d||p||f,x;if(_e)x=()=>{};else if(b){let g=[],h=y=>u(Jt(e,t,y,l()));if(d&&g.push(qe(e,"change",t,h)),p&&(g.push(qe(e,"blur",t,h)),e.form)){let y=()=>h({target:e});e.form._x_pendingModelUpdates||(e.form._x_pendingModelUpdates=[]),e.form._x_pendingModelUpdates.push(y),s(()=>e.form._x_pendingModelUpdates.splice(e.form._x_pendingModelUpdates.indexOf(y),1))}f&&g.push(qe(e,"keydown",t,y=>{y.key==="Enter"&&h(y)})),x=()=>g.forEach(y=>y())}else{let g=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)?"change":"input";x=qe(e,g,t,h=>{u(Jt(e,t,h,l()))})}if(t.includes("fill")&&([void 0,null,""].includes(l())||os(e)&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&u(Jt(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=x,s(()=>e._x_removeModelListeners.default()),e.form){let g=qe(e.form,"reset",[],h=>{rs(()=>e._x_model&&e._x_model.set(Jt(e,t,{target:e},l())))});s(()=>g())}e._x_model={get(){return l()},set(g){u(g)}},e._x_forceModelUpdate=g=>{g===void 0&&typeof n=="string"&&n.match(/\./)&&(g=""),window.fromModel=!0,O(()=>zi(e,"value",g)),delete window.fromModel},o(()=>{let g=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(g)})});function Jt(e,t,n,o){return O(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(os(e))if(Array.isArray(o)){let s=null;return t.includes("number")?s=Jn(n.target.value):t.includes("boolean")?s=Qt(n.target.value):s=n.target.value,n.target.checked?o.includes(s)?o:o.concat([s]):o.filter(i=>!ym(i,s))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Jn(i)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Qt(i)}):Array.from(n.target.selectedOptions).map(s=>s.value||s.text);{let s;return qi(e)?n.target.checked?s=n.target.value:s=o:s=n.target.value,t.includes("number")?Jn(s):t.includes("boolean")?Qt(s):t.includes("trim")?s.trim():s}}})}function Jn(e){let t=e?parseFloat(e):null;return _m(t)?t:e}function ym(e,t){return e==t}function _m(e){return!Array.isArray(e)&&!isNaN(e)}function co(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}D("cloak",e=>queueMicrotask(()=>O(()=>e.removeAttribute(ct("cloak")))));Oi(()=>`[${ct("init")}]`);D("init",je((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));D("text",(e,{expression:t},{effect:n,evaluateLater:o})=>{let s=o(t);n(()=>{s(i=>{O(()=>{e.textContent=i})})})});D("html",(e,{expression:t},{effect:n,evaluateLater:o})=>{let s=o(t);n(()=>{s(i=>{O(()=>{e.innerHTML=i,e._x_ignoreSelf=!0,pe(e),delete e._x_ignoreSelf})})})});es(Si(":",Ci(ct("bind:"))));var ha=(e,{value:t,modifiers:n,expression:o,original:s},{effect:i,cleanup:a})=>{if(!t){let l={};Eh(l),V(e,o)(d=>{Ji(e,d,s)},{scope:l});return}if(t==="key")return wm(e,o);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let c=V(e,o);i(()=>c(l=>{l===void 0&&typeof o=="string"&&o.match(/\./)&&(l=""),O(()=>zi(e,t,l,n))})),a(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};ha.inline=(e,{value:t,modifiers:n,expression:o})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:o,extract:!1})};D("bind",ha);function wm(e,t){e._x_keyExpression=t}Li(()=>`[${ct("data")}]`);D("data",(e,{expression:t},{cleanup:n})=>{if(jm(e))return;t=t===""?"{}":t;let o={};Ct(o,e);let s={};Ih(s,o);let i=Le(e,t,{scope:s});(i===void 0||i===!0)&&(i={}),Ct(i,e);let a=it(i);Zr(a);let c=Dt(e,a);a.init&&Le(e,a.init),n(()=>{a.destroy&&Le(e,a.destroy),c()})});Tn((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function jm(e){return _e?mr?!0:e.hasAttribute("data-has-alpine-state"):!1}D("show",(e,{modifiers:t,expression:n},{effect:o})=>{let s=V(e,n);e._x_doHide||(e._x_doHide=()=>{O(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{O(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let i=()=>{e._x_doHide(),e._x_isShown=!1},a=()=>{e._x_doShow(),e._x_isShown=!0},c=()=>setTimeout(a),l=fr(p=>p?a():i(),p=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,p,a,i):p?c():i()}),u,d=!0;o(()=>s(p=>{!d&&p===u||(t.includes("immediate")&&(p?c():i()),l(p),u=p,d=!1)}))});D("for",(e,{expression:t},{effect:n,cleanup:o})=>{let s=Cm(t),i=V(e,s.items),a=V(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>Sm(e,s,i,a)),o(()=>{Object.values(e._x_lookup).forEach(c=>O(()=>{lt(c),c.remove()})),delete e._x_prevKeys,delete e._x_lookup})});function Sm(e,t,n,o){let s=a=>typeof a=="object"&&!Array.isArray(a),i=e;n(a=>{Em(a)&&a>=0&&(a=Array.from(Array(a).keys(),h=>h+1)),a===void 0&&(a=[]);let c=e._x_lookup,l=e._x_prevKeys,u=[],d=[];if(s(a))a=Object.entries(a).map(([h,y])=>{let j=lo(t,y,h,a);o(S=>{d.includes(S)&&J("Duplicate key on x-for",e),d.push(S)},{scope:{index:h,...j}}),u.push(j)});else for(let h=0;h<a.length;h++){let y=lo(t,a[h],h,a);o(j=>{d.includes(j)&&J("Duplicate key on x-for",e),d.push(j)},{scope:{index:h,...y}}),u.push(y)}let p=[],f=[],b=[],x=[];for(let h=0;h<l.length;h++){let y=l[h];d.indexOf(y)===-1&&b.push(y)}l=l.filter(h=>!b.includes(h));let g="template";for(let h=0;h<d.length;h++){let y=d[h],j=l.indexOf(y);if(j===-1)l.splice(h,0,y),p.push([g,h]);else if(j!==h){let S=l.splice(h,1)[0],I=l.splice(j-1,1)[0];l.splice(h,0,I),l.splice(j,0,S),f.push([S,I])}else x.push(y);g=y}for(let h=0;h<b.length;h++){let y=b[h];y in c&&(O(()=>{lt(c[y]),c[y].remove()}),delete c[y])}for(let h=0;h<f.length;h++){let[y,j]=f[h],S=c[y],I=c[j],$=document.createElement("div");O(()=>{I||J('x-for ":key" is undefined or invalid',i,j,c),I.after($),S.after(I),I._x_currentIfEl&&I.after(I._x_currentIfEl),$.before(S),S._x_currentIfEl&&S.after(S._x_currentIfEl),$.remove()}),I._x_refreshXForScope(u[d.indexOf(j)])}for(let h=0;h<p.length;h++){let[y,j]=p[h],S=y==="template"?i:c[y];S._x_currentIfEl&&(S=S._x_currentIfEl);let I=u[j],$=d[j],H=document.importNode(i.content,!0).firstElementChild,q=it(I);Dt(H,q,i),H._x_refreshXForScope=fe=>{Object.entries(fe).forEach(([re,he])=>{q[re]=he})},O(()=>{S.after(H),je(()=>pe(H))()}),typeof $=="object"&&J("x-for key cannot be an object, it must be a string or an integer",i),c[$]=H}for(let h=0;h<x.length;h++)c[x[h]]._x_refreshXForScope(u[d.indexOf(x[h])]);i._x_prevKeys=d})}function Cm(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=e.match(o);if(!s)return;let i={};i.items=s[2].trim();let a=s[1].replace(n,"").trim(),c=a.match(t);return c?(i.item=a.replace(t,"").trim(),i.index=c[1].trim(),c[2]&&(i.collection=c[2].trim())):i.item=a,i}function lo(e,t,n,o){let s={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(a=>a.trim()).forEach((a,c)=>{s[a]=t[c]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(a=>a.trim()).forEach(a=>{s[a]=t[a]}):s[e.item]=t,e.index&&(s[e.index]=n),e.collection&&(s[e.collection]=o),s}function Em(e){return!Array.isArray(e)&&!isNaN(e)}function ma(){}ma.inline=(e,{expression:t},{cleanup:n})=>{let o=In(e);o._x_refs||(o._x_refs={}),o._x_refs[t]=e,n(()=>delete o._x_refs[t])};D("ref",ma);D("if",(e,{expression:t},{effect:n,cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&J("x-if can only be used on a <template> tag",e);let s=V(e,t),i=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let c=e.content.cloneNode(!0).firstElementChild;return Dt(c,{},e),O(()=>{e.after(c),je(()=>pe(c))()}),e._x_currentIfEl=c,e._x_undoIf=()=>{O(()=>{lt(c),c.remove()}),delete e._x_currentIfEl},c},a=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>s(c=>{c?i():a()})),o(()=>e._x_undoIf&&e._x_undoIf())});D("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(s=>pm(e,s))});Tn((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});es(Si("@",Ci(ct("on:"))));D("on",je((e,{value:t,modifiers:n,expression:o},{cleanup:s})=>{let i=o?V(e,o):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let a=qe(e,t,n,c=>{i(()=>{},{scope:{$event:c},params:[c]})});s(()=>a())}));On("Collapse","collapse","collapse");On("Intersect","intersect","intersect");On("Focus","trap","focus");On("Mask","mask","mask");function On(e,t,n){D(t,o=>J(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,o))}dt.setEvaluator(yi);dt.setRawEvaluator(zf);dt.setReactivityEngine({reactive:ps,effect:Dh,release:Bh,raw:N});var km=dt,uo=km;function Im(e,t,n,o,s={}){const i=Ur(),a=document.createElement("div");a.className="sb-composer absolute flex flex-column sb-bg ba sb-b-default br3 sb-shadow sans-serif overflow-hidden",a.style.left=`${t}%`,a.style.top=`${n}%`,a.style.transform="translate(12px, -50%)",a.innerHTML=`
    <div x-data="sbComposer" @keydown.escape.prevent.stop="cancel()">
      ${i?`
        <div class="flex items-center ph3 pt2">
          <img class="br-100 ba sb-b-default flex-shrink-0 mr2 sb-avatar" src="${i.avatarUrl}" alt="${i.login}" />
          <span class="f7 sb-fg-muted fw5">${i.login}</span>
        </div>
      `:""}
      <div class="ph3 pt3">
        <textarea class="sb-input sb-textarea w-100 ph2 pv2 br2 f6 sans-serif lh-copy db sb-f-sm"
                  placeholder="Leave a comment…"
                  x-model="text"
                  @keydown.meta.enter="submit()"
                  @keydown.ctrl.enter="submit()"></textarea>
      </div>
      <template x-if="error">
        <div class="ph3 pb2 f7 sb-fg-danger" x-text="error"></div>
      </template>
      <div class="flex items-center justify-end pa3">
        <button class="sb-btn-cancel ph3 pv2 br2 f7 fw5 pointer mr1" @click="cancel()">Cancel</button>
        <button class="sb-btn-success ph3 pv2 br2 f7 fw5 pointer bn" :disabled="submitting"
                @click="submit()" x-text="submitting ? 'Posting…' : 'Comment'">Comment</button>
      </div>
    </div>
  `,e.appendChild(a),a.addEventListener("click",u=>u.stopPropagation());function c(){window.removeEventListener("keydown",l,!0),a.remove()}function l(u){u.key==="Escape"&&(u.preventDefault(),u.stopPropagation(),c(),s.onCancel?.())}return window.addEventListener("keydown",l,!0),window.Alpine._sbComposerRegistered||(window.Alpine.data("sbComposer",()=>({text:"",submitting:!1,error:null,async submit(){const u=this.text.trim();if(u){this.submitting=!0,this.error=null;try{const d=await ef(o,t,n,u);c(),s.onSubmit?.(d)}catch(d){this.error=d.message,this.submitting=!1,console.error("[storyboard] Failed to post comment:",d)}}},cancel(){c(),s.onCancel?.()}})),window.Alpine._sbComposerRegistered=!0),window.Alpine.initTree(a),requestAnimationFrame(()=>{const u=a.querySelector("textarea");u&&u.focus();const d=a.getBoundingClientRect(),p=window.innerWidth,f=window.innerHeight,b=8;let x=12,g=-(d.height/2);d.left+d.width>p-b&&(x=-(d.width+12));const h=d.top+d.height/2,y=h+g+d.height;y>f-b&&(g-=y-f+b),h+g<b&&(g=b-h),a.style.transform=`translate(${x}px, ${g}px)`}),{el:a,destroy:c}}const po="sb-auth-modal",W={resolve:null,onKeyDown:null,backdrop:null};function Am(){return new Promise(e=>{const t=document.getElementById(po);t&&t.remove();const n=document.createElement("div");n.id=po,n.className="sb-auth-backdrop fixed top-0 right-0 bottom-0 left-0 flex items-center justify-center sans-serif",n.innerHTML=`
      <div class="sb-auth-modal sb-bg ba sb-b-default br3 sb-shadow sb-fg overflow-hidden" x-data="sbAuthModal">
        <div class="flex items-center justify-between ph4 pv3 bb sb-b-muted">
          <h2 class="ma0 f5 fw6 sb-fg">Sign in for comments</h2>
          <button class="flex items-center justify-center bg-transparent bn br2 sb-fg-muted pointer sb-close-btn" @click="close()" aria-label="Close">×</button>
        </div>
        <div class="pa4">
          <p class="ma0 mb3 lh-copy sb-fg-muted sb-f-sm">
            Create a <a class="sb-fg-accent no-underline" href="https://github.com/settings/tokens/new?scopes=repo&description=Storyboard+Comments" target="_blank" rel="noopener">GitHub Personal Access Token</a> with access to <b>github/storyboard</b> repository and <b>Discussions</b> read/write scope. Then enter the token below to sign in and enable commenting features.
          </p>
          <label class="db mb1 fw5 sb-fg sb-f-sm" for="sb-auth-token-input">Personal Access Token</label>
          <input class="sb-input w-100 ph3 pv2 br2 f6 code db" id="sb-auth-token-input" type="password"
                 placeholder="github_pat_… or ghp_…" autocomplete="off" spellcheck="false"
                 x-model="token" @keydown.enter="submit()" />
          <div class="mt2 ph3 pv2 sb-bg-inset ba sb-b-muted br2 f7 sb-fg-muted lh-copy">
            <div class="mb1"><strong class="sb-fg">Fine-grained</strong> (recommended): <code class="dib ph1 sb-bg-muted br1 code sb-fg sb-code-badge">Discussions: Read and write</code></div>
            <div><strong class="sb-fg">Classic</strong>: <code class="dib ph1 sb-bg-muted br1 code sb-fg sb-code-badge">repo</code></div>
          </div>
          <template x-if="error">
            <div class="mt2 ph3 pv2 br2 sb-fg-danger sb-f-sm sb-error-alert" x-text="error"></div>
          </template>
          <template x-if="user">
            <div class="flex items-center pv1">
              <img class="br-100 ba sb-b-default mr3 sb-avatar-lg" :src="user.avatarUrl" :alt="user.login" />
              <div class="f6 sb-fg">
                <span x-text="user.login"></span>
                <span class="db f7 sb-fg-success mt1">✓ Signed in</span>
              </div>
            </div>
          </template>
        </div>
        <div class="flex items-center justify-end ph4 pv3 bt sb-b-muted">
          <button class="sb-btn-cancel ph3 pv1 br2 fw5 sans-serif pointer mr2 sb-f-sm" @click="close()">Cancel</button>
          <button class="sb-btn-success ph3 pv1 br2 fw5 sans-serif pointer bn sb-f-sm" :disabled="submitting"
                  @click="user ? done() : submit()" x-text="user ? 'Done' : (submitting ? 'Validating…' : 'Sign in')">
            Sign in
          </button>
        </div>
      </div>
    `,document.body.appendChild(n);function o(s){s.key==="Escape"&&(s.preventDefault(),s.stopPropagation(),window.removeEventListener("keydown",W.onKeyDown,!0),W.backdrop.remove(),W.resolve(null))}W.resolve=e,W.onKeyDown=o,W.backdrop=n,n.addEventListener("click",s=>{s.target===n&&(window.removeEventListener("keydown",W.onKeyDown,!0),W.backdrop.remove(),W.resolve(null))}),window.addEventListener("keydown",o,!0),window.Alpine._sbAuthRegistered||(window.Alpine.data("sbAuthModal",()=>({token:"",submitting:!1,error:null,user:null,async submit(){const s=this.token.trim();if(s){this.submitting=!0,this.error=null;try{const i=await Pp(s);Op(s),this.user=i}catch(i){this.error=i.message}finally{this.submitting=!1}}},done(){window.removeEventListener("keydown",W.onKeyDown,!0);const s=this.user;W.backdrop.remove(),W.resolve(s)},close(){window.removeEventListener("keydown",W.onKeyDown,!0),W.backdrop.remove(),W.resolve(null)}})),window.Alpine._sbAuthRegistered=!0),window.Alpine.initTree(n),requestAnimationFrame(()=>{const s=n.querySelector("#sb-auth-token-input");s&&s.focus()})})}function Vm(){const e=Ur();$p(),console.log(`[storyboard] Signed out${e?` (was ${e.login})`:""}`)}const fo={THUMBS_UP:"👍",THUMBS_DOWN:"👎",LAUGH:"😄",HOORAY:"🎉",CONFUSED:"😕",HEART:"❤️",ROCKET:"🚀",EYES:"👀"};function ho(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function ee(e){const t=document.createElement("div");return t.textContent=e??"",t.innerHTML}let oe=null;function hn(e,t,n,o={}){oe&&(oe.destroy(),oe=null);const s=Ur(),i=t.replies??[],a=s&&t.author?.login===s.login,c=s&&n,l=document.createElement("div");l.className="sb-comment-window absolute flex flex-column sb-bg ba sb-b-default br3 sb-shadow sans-serif overflow-hidden",l.style.cssText=`z-index:100001;width:360px;max-height:480px;left:${t.meta?.x??0}%;top:${t.meta?.y??0}%;transform:translate(12px,-50%)`,l.setAttribute("x-data","sbCommentWindow"),l.setAttribute("@click.stop",""),l.innerHTML=`
      <!-- Header (draggable) -->
      <div class="flex items-center justify-between ph3 pv3 bb sb-b-muted sb-draggable"
           @mousedown="startDrag($event)">
        <div class="flex items-center">
          ${t.author?.avatarUrl?`<img class="br-100 ba sb-b-default flex-shrink-0 mr2 sb-avatar" src="${ee(t.author.avatarUrl)}" alt="${ee(t.author.login)}" />`:""}
          <span class="f7 fw6 sb-fg">${ee(t.author?.login??"unknown")}</span>
          ${t.createdAt?`<span class="sb-fg-muted ml1 sb-f-xs">${ee(ho(t.createdAt))}</span>`:""}
        </div>
        <div class="sb-comment-window-header-actions flex items-center flex-shrink-0" @mousedown.stop>
          <!-- Resolve -->
          <button class="flex items-center justify-center bg-transparent bn br2 pointer fw5 sans-serif flex-shrink-0 nowrap sb-action-btn"
                  :class="resolved ? 'sb-fg-success' : 'sb-fg-muted'"
                  :title="resolved ? 'Unresolve' : 'Resolve'"
                  :disabled="resolving"
                  @click="toggleResolve()"
                  x-text="resolving ? (resolved ? 'Unresolving…' : 'Resolving…') : (resolved ? 'Resolved ✓' : 'Resolve')"></button>
          <!-- Copy link -->
          <button class="flex items-center justify-center bg-transparent bn br2 pointer fw5 sans-serif flex-shrink-0 nowrap sb-action-btn"
                  :class="copied ? 'sb-fg-success' : 'sb-fg-muted'"
                  title="Copy link"
                  @click="copyLink()"
                  x-text="copied ? 'Copied!' : 'Copy link'"></button>
          <!-- Close -->
          <button class="flex items-center justify-center bg-transparent bn br2 sb-fg-muted pointer flex-shrink-0 sb-close-btn-sm"
                  aria-label="Close"
                  @click="close()">×</button>
        </div>
      </div>

      <!-- Body -->
      <div class="flex-auto overflow-y-auto ph3 pt3">
        <!-- Comment text / edit -->
        <template x-if="!editing">
          <div>
            <p class="lh-copy sb-fg ma0 mb2 word-wrap sb-f-sm">${ee(t.text)}</p>
          </div>
        </template>
        <template x-if="editing">
          <div>
            <textarea class="sb-input sb-textarea w-100 ph2 pv1 br2 f7 sans-serif lh-copy db mb2"
                      x-model="editText" x-ref="editArea" x-init="$nextTick(() => $refs.editArea?.focus())"></textarea>
            <div class="flex justify-end mb2">
              <button class="sb-btn-cancel ph2 pv1 br2 f7 fw5 sans-serif pointer mr1" @click="editing = false">Cancel</button>
              <button class="sb-btn-success ph3 pv2 br2 f7 fw5 sans-serif pointer bn"
                      :disabled="saving" @click="saveEdit()"
                      x-text="saving ? 'Saving…' : 'Save'">Save</button>
            </div>
          </div>
        </template>

        <!-- Reactions -->
        <div class="flex items-center flex-wrap mb2" x-ref="reactionBar">
          <template x-for="(group, gi) in reactions" :key="group.content">
            <template x-if="(group.users?.totalCount ?? 0) > 0">
              <button class="f7 flex items-center ph2 br-pill pointer sans-serif mr1 mb1 pv1 hover:b--blue"
                      :class="group.viewerHasReacted ? 'sb-pill sb-pill-active' : 'sb-pill'"
                      @click.stop="toggleReaction(group.content, gi)">
                <span class="mr1 f7" x-text="emojiFor(group.content)"></span>
                <span class="f7" x-text="group.users?.totalCount ?? 0"></span>
              </button>
            </template>
          </template>
          <div class="relative mr1 mb1 dib">
            <button class="f7 flex items-center ph2 pv1 br-pill pointer sans-serif sb-pill"
                    @click.stop="pickerTarget = pickerTarget === 'comment' ? null : 'comment'"><span>😀 +</span></button>
            <template x-if="pickerTarget === 'comment'">
              <div class="sb-reaction-picker absolute left-0 flex pa1 sb-bg ba sb-b-default br3 sb-shadow" @click.outside="pickerTarget = null">
                <template x-for="[key, emoji] in emojiEntries" :key="key">
                  <button class="flex items-center justify-center br2 bn f6 pointer mr1"
                          :class="isReacted(key) ? 'sb-reaction-btn-active' : 'bg-transparent sb-reaction-btn'"
                          @click.stop="toggleReaction(key); pickerTarget = null"
                          x-text="emoji"></button>
                </template>
              </div>
            </template>
          </div>
          <template x-if="!editing">
            <div class="dib mb1 ml-auto">
            ${a?'<button class="sb-fg-muted bg-transparent bn pointer f7 underline-hover" @click="editing = true; editText = commentText">Edit</button>':""}
            </div>
          </template>
        </div>

        <!-- Replies -->
        ${i.length>0?`
        <div class="bt sb-b-muted pt2 mt1">
          <div class="fw6 sb-fg-muted ttu tracked mb2 sb-f-xs">${i.length} ${i.length===1?"Reply":"Replies"}</div>
          ${i.map((p,f)=>`
          <div class="flex mb2" data-reply-index="${f}">
            ${p.author?.avatarUrl?`<img class="br-100 ba sb-b-default flex-shrink-0 mr2 sb-avatar-sm" src="${ee(p.author.avatarUrl)}" alt="${ee(p.author.login)}" />`:""}
            <div class="flex-auto sb-min-w-0">
              <div class="flex items-center mb1">
                <span class="f7 fw6 sb-fg mr1">${ee(p.author?.login??"unknown")}</span>
                ${p.createdAt?`<span class="sb-fg-muted sb-f-xs">${ee(ho(p.createdAt))}</span>`:""}
                ${s&&p.author?.login===s.login?`
                <div class="flex gap-2 ml-auto flex-shrink-0">
                  <template x-if="editingReply !== ${f}">
                    <button class="sb-fg-muted bg-transparent bn pointer underline-hover sb-f-xs"
                            @click="editingReply = ${f}; editReplyText = replyTexts[${f}]">Edit</button>
                  </template>
                  <template x-if="editingReply !== ${f}">
                    <button class="sb-fg-danger bg-transparent bn pointer underline-hover sb-f-xs"
                            @click="deleteReplyAt(${f})">Delete</button>
                  </template>
                </div>
                `:""}
              </div>
              <template x-if="editingReply !== ${f}">
                <p class="lh-copy sb-fg ma0 word-wrap sb-f-sm">${ee(p.text??p.body)}</p>
              </template>
              <template x-if="editingReply === ${f}">
                <div>
                  <textarea class="sb-input sb-textarea-sm w-100 ph2 pv1 br2 sans-serif lh-copy db mb1 f7"
                            x-model="editReplyText"></textarea>
                  <div class="flex justify-end mb1">
                    <button class="sb-btn-cancel ph2 pv1 br2 f7 fw5 sans-serif pointer mr1" @click="editingReply = -1">Cancel</button>
                    <button class="sb-btn-success ph3 pv2 br2 f7 fw5 sans-serif pointer bn"
                            :disabled="savingReply" @click="saveReply(${f})"
                            x-text="savingReply ? 'Saving…' : 'Save'">Save</button>
                  </div>
                </div>
              </template>
              <!-- Reply reactions -->
              <div class="flex items-center flex-wrap mt1">
                <template x-for="(rg, rgi) in replyReactions[${f}]" :key="rg.content">
                  <template x-if="(rg.users?.totalCount ?? 0) > 0">
                    <button class="dib flex f7 items-center ph2 br-pill pointer sans-serif mr1 mb1 "
                            :class="rg.viewerHasReacted ? 'sb-pill sb-pill-active' : 'sb-pill'"
                            @click.stop="toggleReplyReaction(${f}, rg.content, rgi)">
                      <span class="mr1" x-text="emojiFor(rg.content)"></span>
                      <span x-text="rg.users?.totalCount ?? 0"></span>
                    </button>
                  </template>
                </template>
                <div class="relative mr1 mb1">
                  <button class="f7 flex items-center ph2 pv1 br-pill pointer sans-serif sb-pill"
                          @click.stop="pickerTarget = pickerTarget === 'reply-${f}' ? null : 'reply-${f}'">😀 +</button>
                  <template x-if="pickerTarget === 'reply-${f}'">
                    <div class="sb-reaction-picker absolute left-0 flex pa1 sb-bg ba sb-b-default br3 sb-shadow" @click.outside="pickerTarget = null">
                      <template x-for="[key, emoji] in emojiEntries" :key="key">
                        <button class="flex items-center justify-center br2 bn f6 pointer mr1"
                                :class="isReplyReacted(${f}, key) ? 'sb-reaction-btn-active' : 'bg-transparent sb-reaction-btn'"
                                @click.stop="toggleReplyReaction(${f}, key); pickerTarget = null"
                                x-text="emoji"></button>
                      </template>
                    </div>
                  </template>
                </div>
              </div>
            </div>
          </div>
          `).join("")}
        </div>
        `:""}
      </div>

      <!-- Reply form -->
      ${c?`
      <div class="bt sb-b-muted ph3 pv3 flex flex-column">
        <textarea class="sb-input sb-textarea-sm w-100 ph2 pv1 br2 f7 sans-serif lh-copy db mb1"
                  placeholder="Reply…"
                  x-model="replyText"
                  @keydown.meta.enter="submitReply()"
                  @keydown.ctrl.enter="submitReply()"
                  @keydown.escape.prevent.stop></textarea>
        <div class="flex justify-end mt2">
          <button class="sb-btn-success ph3 pv2 br2 f7 fw5 sans-serif pointer bn"
                  :disabled="!replyText.trim() || submittingReply"
                  @click="submitReply()"
                  x-text="submittingReply ? 'Posting…' : 'Reply'">Reply</button>
        </div>
      </div>
      `:""}
  `;const u=new URL(window.location.href);u.searchParams.set("comment",t.id),window.history.replaceState(null,"",u.toString()),e.appendChild(l);function d(){l.remove(),oe?.el===l&&(oe=null);const p=new URL(window.location.href);p.searchParams.delete("comment"),window.history.replaceState(null,"",p.toString()),o.onClose?.()}return window.Alpine._sbCommentWindowRegistered||(window.Alpine.data("sbCommentWindow",()=>({resolved:!1,resolving:!1,copied:!1,editing:!1,editText:"",saving:!1,commentText:"",replyText:"",submittingReply:!1,editingReply:-1,editReplyText:"",savingReply:!1,pickerTarget:null,reactions:[],replyReactions:[],replyTexts:[],emojiEntries:Object.entries(fo),_comment:null,_discussion:null,_container:null,_callbacks:null,_destroy:null,_win:null,init(){const p=this.$root._sbInit;p&&(this._comment=p.comment,this._discussion=p.discussion,this._container=p.container,this._callbacks=p.callbacks,this._destroy=p.destroy,this._win=p.win,this.resolved=!!this._comment.meta?.resolved,this.commentText=this._comment.text??"",this.reactions=[...this._comment.reactionGroups??[]],this.replyTexts=(this._comment.replies??[]).map(f=>f.text??f.body??""),this.replyReactions=(this._comment.replies??[]).map(f=>[...f.reactionGroups??[]]))},emojiFor(p){return fo[p]??p},isReacted(p){return this.reactions.some(f=>f.content===p&&f.viewerHasReacted)},isReplyReacted(p,f){return(this.replyReactions[p]??[]).some(b=>b.content===f&&b.viewerHasReacted)},async toggleResolve(){this.resolving=!0;try{this.resolved?(await rf(this._comment.id,this._comment._rawBody??this._comment.body??""),this._comment.meta={...this._comment.meta},delete this._comment.meta.resolved,this.resolved=!1,this.resolving=!1,this._callbacks.onMove?.()):(await nf(this._comment.id,this._comment._rawBody??this._comment.body??""),this._comment.meta={...this._comment.meta,resolved:!0},this._callbacks.onMove?.(),this._destroy())}catch(p){console.error("[storyboard] Failed to toggle resolve:",p),this.resolving=!1}},copyLink(){const p=new URL(window.location.href);p.searchParams.set("comment",this._comment.id),navigator.clipboard.writeText(p.toString()).then(()=>{this.copied=!0,setTimeout(()=>{this.copied=!1},2e3)}).catch(()=>{const f=document.createElement("input");f.value=p.toString(),document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()})},close(){this._destroy()},async saveEdit(){const p=this.editText.trim();if(p){this.saving=!0;try{await sf(this._comment.id,this._comment._rawBody??this._comment.body??"",p),this._comment.text=p,this._comment._rawBody=null,this.commentText=p;const f=this.$root.querySelector(".word-wrap");f&&(f.textContent=p),this.editing=!1,this.saving=!1}catch(f){console.error("[storyboard] Failed to edit comment:",f),this.saving=!1}}},async toggleReaction(p,f){const b=f!==void 0?this.reactions[f]:this.reactions.find(g=>g.content===p),x=b?.viewerHasReacted??!1;x&&b?(b.users={totalCount:Math.max(0,(b.users?.totalCount??1)-1)},b.viewerHasReacted=!1,b.users.totalCount===0&&(this.reactions=this.reactions.filter(g=>g.content!==p))):b?(b.users={totalCount:(b.users?.totalCount??0)+1},b.viewerHasReacted=!0):this.reactions.push({content:p,users:{totalCount:1},viewerHasReacted:!0}),this._comment.reactionGroups=this.reactions;try{x?await Js(this._comment.id,p):await Gs(this._comment.id,p)}catch(g){console.error("[storyboard] Reaction toggle failed:",g)}},async toggleReplyReaction(p,f,b){const x=(this._comment.replies??[])[p];if(!x)return;const g=this.replyReactions[p]??[],h=b!==void 0?g[b]:g.find(j=>j.content===f),y=h?.viewerHasReacted??!1;y&&h?(h.users={totalCount:Math.max(0,(h.users?.totalCount??1)-1)},h.viewerHasReacted=!1,h.users.totalCount===0&&(this.replyReactions[p]=g.filter(j=>j.content!==f))):h?(h.users={totalCount:(h.users?.totalCount??0)+1},h.viewerHasReacted=!0):(g.push({content:f,users:{totalCount:1},viewerHasReacted:!0}),this.replyReactions[p]=g),x.reactionGroups=this.replyReactions[p];try{y?await Js(x.id,f):await Gs(x.id,f)}catch(j){console.error("[storyboard] Reaction toggle failed:",j)}},async submitReply(){const p=this.replyText.trim();if(p){this.submittingReply=!0;try{await tf(this._discussion.id,this._comment.id,p),this.replyText="",this.submittingReply=!1,this._callbacks.onMove?.()}catch(f){console.error("[storyboard] Failed to post reply:",f),this.submittingReply=!1}}},async saveReply(p){const f=this.editReplyText.trim();if(!f)return;const b=(this._comment.replies??[])[p];if(b){this.savingReply=!0;try{await of(b.id,f),b.text=f,b.body=f,this.replyTexts[p]=f,this.editingReply=-1,this.savingReply=!1}catch(x){console.error("[storyboard] Failed to edit reply:",x),this.savingReply=!1}}},async deleteReplyAt(p){const f=(this._comment.replies??[])[p];if(!(!f||!confirm("Delete this reply?")))try{await cf(f.id),this._callbacks.onMove?.()}catch(b){console.error("[storyboard] Failed to delete reply:",b)}},startDrag(p){if(p.target.closest(".sb-comment-window-header-actions"))return;const f=this._win,b=p.clientX,x=p.clientY,g=f.getBoundingClientRect(),h=g.left,y=g.top;p.target.style.cursor="grabbing";const j=I=>{const $=I.clientX-b,H=I.clientY-x;f.style.position="fixed",f.style.left=`${h+$}px`,f.style.top=`${y+H}px`,f.style.transform="none"},S=()=>{p.target.style.cursor="grab",document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",S)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",S),p.preventDefault()}})),window.Alpine._sbCommentWindowRegistered=!0),l._sbInit={comment:t,discussion:n,container:e,callbacks:o,destroy:d,win:l},window.Alpine.initTree(l),requestAnimationFrame(()=>{const p=l.getBoundingClientRect(),f=window.innerWidth,b=window.innerHeight,x=8;let g=12,h=-(p.height/2);p.left+p.width>f-x&&(g=-(p.width+12));const y=p.top+p.height/2,j=y+h+p.height;j>b-x&&(h-=j-b+x),y+h<x&&(h=x-y),l.style.transform=`translate(${g}px, ${h}px)`}),oe={el:l,destroy:d},{el:l,destroy:d}}function ga(){oe&&(oe.destroy(),oe=null)}let xe=null,ie=null,G=null,vr=[],rt=null;function mo(e){const t=document.createElement("div");return t.textContent=e??"",t.innerHTML}function $n(){return document.body}function Pn(){if(ie)return ie;const e=$n();return ie=document.createElement("div"),ie.className="sb-comment-overlay absolute top-0 right-0 bottom-0 left-0 pe-none",e.appendChild(ie),ie}function Tm(){xe||(xe=document.createElement("div"),xe.className="sb-banner fixed flex items-center pe-none sans-serif sb-shadow",xe.innerHTML=`
    Comment mode — click to place a comment. Press
    <kbd class="sb-kbd">C</kbd> or
    <kbd class="sb-kbd">Esc</kbd> to exit.
  `,document.body.appendChild(xe))}function Rm(){xe&&(xe.remove(),xe=null)}function Mn(){return window.location.pathname}function fs(){for(const e of vr)e.remove();vr=[]}function It(){ni(Mn()),va()}function ba(e,t,n){const o=Math.round(n*137.5%360),s=document.createElement("div");s.className="sb-comment-pin absolute br-100 sb-bg pointer sb-shadow pe-auto overflow-hidden",s.style.left=`${t.meta?.x??0}%`,s.style.top=`${t.meta?.y??0}%`,s.style.setProperty("--pin-hue",String(o)),t.meta?.resolved&&s.setAttribute("data-resolved","true"),s.title=`${t.author?.login??"unknown"}: ${t.text?.slice(0,80)??""}`,s.innerHTML=t.author?.avatarUrl?`<img class="br-100 db sb-pin-img" src="${mo(t.author.avatarUrl)}" alt="${mo(t.author.login)}" draggable="false" />`:"",s._commentId=t.id,t._rawBody=t.body;let i=!1;return s.addEventListener("mousedown",a=>{if(a.button!==0)return;i=!1;const c=$n(),l=c.getBoundingClientRect(),u=a.clientX,d=a.clientY,p=parseFloat(s.style.left)/100*l.width,f=parseFloat(s.style.top)/100*l.height,b=g=>{const h=g.clientX-u,y=g.clientY-d;if(!i&&Math.abs(h)<4&&Math.abs(y)<4)return;i=!0;const j=c.getBoundingClientRect(),S=Math.round((p+h)/j.width*1e3)/10,I=Math.round((f+y)/j.height*1e3)/10;s.style.left=`${S}%`,s.style.top=`${I}%`},x=async g=>{if(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",x),!i)return;const h=c.getBoundingClientRect(),y=g.clientX-u,j=g.clientY-d,S=Math.round((p+y)/h.width*1e3)/10,I=Math.round((f+j)/h.height*1e3)/10;t.meta={...t.meta,x:S,y:I};try{await af(t.id,t._rawBody??t.body??"",S,I),t._rawBody=null,ni(Mn())}catch($){console.error("[storyboard] Failed to move pin:",$)}};document.addEventListener("mousemove",b),document.addEventListener("mouseup",x),a.preventDefault()}),s.addEventListener("click",async a=>{if(a.stopPropagation(),!i){G&&(G.destroy(),G=null);try{const c=await ei(t.id);c&&(c._rawBody=c.body,hn(e,c,rt,{onClose:()=>{},onMove:()=>It()}))}catch(c){console.warn("[storyboard] Could not load comment detail:",c.message),hn(e,t,rt,{onClose:()=>{},onMove:()=>It()})}}}),e.appendChild(s),vr.push(s),s}function xa(){if(!rt?.comments?.length)return;const e=Pn();fs(),rt.comments.forEach((t,n)=>{t.meta?.x!=null&&t.meta?.y!=null&&ba(e,t,n)})}async function va(){if(!ln())return;const e=Pn(),t=Mn(),n=df(t);if(n){rt=n,xa();return}try{const o=await Qp(t);if(rt=o,o&&uf(t,o),fs(),!o?.comments?.length)return;o.comments.forEach((s,i)=>{s.meta?.x!=null&&s.meta?.y!=null&&ba(e,s,i)}),Nm(e,o)}catch(o){console.warn("[storyboard] Could not load comments:",o.message)}}async function Nm(e,t){const n=new URLSearchParams(window.location.search).get("comment");if(!n||!t?.comments?.length)return;const o=t.comments.find(s=>s.id===n);if(o){if(o.meta?.y!=null){const s=$n(),i=o.meta.y/100*s.scrollHeight,a=s.scrollTop||window.scrollY,c=a+window.innerHeight;if(i<a||i>c){const l=Math.max(0,i-window.innerHeight/3);window.scrollTo({top:l,behavior:"smooth"})}}try{const s=await ei(n);if(s){s._rawBody=s.body,hn(e,s,t,{onClose:()=>{},onMove:()=>It()});return}}catch(s){console.warn("[storyboard] Could not load comment detail:",s.message)}o._rawBody=o.body,hn(e,o,t,{onClose:()=>{},onMove:()=>It()})}}function Lm(e){if(!Xt()||e.target.closest(".sb-composer")||e.target.closest(".sb-comment-pin")||e.target.closest(".sb-comment-window"))return;ga(),G&&(G.destroy(),G=null);const t=$n(),n=t.getBoundingClientRect(),o=Math.round((e.clientX-n.left)/n.width*1e3)/10,s=Math.round((e.clientY-n.top+t.scrollTop)/t.scrollHeight*1e3)/10,i=Pn();G=Im(i,o,s,Mn(),{onCancel:()=>{G=null},onSubmit:()=>{G=null,It()}})}function Om(e){e?(document.body.classList.add("sb-comment-mode"),Tm(),Pn(),xa(),va()):(document.body.classList.remove("sb-comment-mode"),Rm(),G&&(G.destroy(),G=null),ga(),fs(),ie&&(ie.remove(),ie=null))}let go=!1;function $m(){go||(go=!0,window.Alpine=uo,uo.start(),Dp(Om),document.addEventListener("click",e=>{Xt()&&(e.target.closest(".sb-devtools-wrapper")||e.target.closest(".sb-auth-backdrop")||e.target.closest(".sb-comments-drawer")||e.target.closest(".sb-comments-drawer-backdrop")||e.target.closest(".sb-composer")||e.target.closest(".sb-comment-pin")||e.target.closest(".sb-comment-window")||Lm(e))}),window.addEventListener("keydown",e=>{const t=e.target.tagName;if(!(t==="INPUT"||t==="TEXTAREA"||t==="SELECT"||e.target.isContentEditable)){if(e.key==="c"&&!e.metaKey&&!e.ctrlKey&&!e.altKey){if(!an())return;if(e.preventDefault(),!Xt()&&!ln()){Am();return}Mp()}e.key==="Escape"&&Xt()&&(e.preventDefault(),Vs(!1))}}),an()&&ln()&&new URLSearchParams(window.location.search).get("comment")&&Vs(!0))}const Pm={owner:"dfosco",name:"storyboard-source"},Mm={discussions:{category:"General"}},Dm={repository:Pm,comments:Mm},ya=Qa(Lp,{basename:"/storyboard-source/"});il(ya,"/storyboard-source/");Cc();jc();Mo();Rc(Dm,{basePath:"/storyboard-source/"});Hc({basePath:"/storyboard-source/"});$m();const Bm=document.getElementById("root"),zm=Ja.createRoot(Bm);zm.render(r.jsx(w.StrictMode,{children:r.jsx(Ya,{colorMode:"auto",children:r.jsxs(Za,{children:[r.jsx(qo,{}),r.jsx(ec,{router:ya})]})})}));export{Vm as a,Xp as f,En as g,ln as i,Wm as l,Am as o,Vs as s,Mp as t};
